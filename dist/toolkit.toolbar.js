/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/assets/toolkit/scripts/modules/toolbar.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/micromodal/dist/micromodal.es.js":
/*!*******************************************************!*\
  !*** ./node_modules/micromodal/dist/micromodal.es.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar version=\"0.3.2\",classCallCheck=function(e,o){if(!(e instanceof o))throw new TypeError(\"Cannot call a class as a function\")},createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),toConsumableArray=function(e){if(Array.isArray(e)){for(var o=0,t=Array(e.length);o<e.length;o++)t[o]=e[o];return t}return Array.from(e)},MicroModal=function(){var e=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'],o=function(){function o(e){var t=e.targetModal,n=e.triggers,i=void 0===n?[]:n,a=e.onShow,r=void 0===a?function(){}:a,s=e.onClose,l=void 0===s?function(){}:s,c=e.openTrigger,d=void 0===c?\"data-micromodal-trigger\":c,u=e.closeTrigger,h=void 0===u?\"data-micromodal-close\":u,f=e.disableScroll,v=void 0!==f&&f,m=e.disableFocus,g=void 0!==m&&m,b=e.awaitCloseAnimation,y=void 0!==b&&b,k=e.debugMode,w=void 0!==k&&k;classCallCheck(this,o),this.modal=document.getElementById(t),this.config={debugMode:w,disableScroll:v,openTrigger:d,closeTrigger:h,onShow:r,onClose:l,awaitCloseAnimation:y,disableFocus:g},i.length>0&&this.registerTriggers.apply(this,toConsumableArray(i)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return createClass(o,[{key:\"registerTriggers\",value:function(){for(var e=this,o=arguments.length,t=Array(o),n=0;n<o;n++)t[n]=arguments[n];t.filter(Boolean).forEach(function(o){o.addEventListener(\"click\",function(){return e.showModal()})})}},{key:\"showModal\",value:function(){this.activeElement=document.activeElement,this.modal.setAttribute(\"aria-hidden\",\"false\"),this.modal.classList.add(\"is-open\"),this.setFocusToFirstNode(),this.scrollBehaviour(\"disable\"),this.addEventListeners(),this.config.onShow(this.modal)}},{key:\"closeModal\",value:function(){var e=this.modal;this.modal.setAttribute(\"aria-hidden\",\"true\"),this.removeEventListeners(),this.scrollBehaviour(\"enable\"),this.activeElement&&this.activeElement.focus(),this.config.onClose(this.modal),this.config.awaitCloseAnimation?this.modal.addEventListener(\"animationend\",function o(){e.classList.remove(\"is-open\"),e.removeEventListener(\"animationend\",o,!1)},!1):e.classList.remove(\"is-open\")}},{key:\"closeModalById\",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:\"scrollBehaviour\",value:function(e){if(this.config.disableScroll){var o=document.querySelector(\"body\");switch(e){case\"enable\":Object.assign(o.style,{overflow:\"\",height:\"\"});break;case\"disable\":Object.assign(o.style,{overflow:\"hidden\",height:\"100vh\"})}}}},{key:\"addEventListeners\",value:function(){this.modal.addEventListener(\"touchstart\",this.onClick),this.modal.addEventListener(\"click\",this.onClick),document.addEventListener(\"keydown\",this.onKeydown)}},{key:\"removeEventListeners\",value:function(){this.modal.removeEventListener(\"touchstart\",this.onClick),this.modal.removeEventListener(\"click\",this.onClick),document.removeEventListener(\"keydown\",this.onKeydown)}},{key:\"onClick\",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&(this.closeModal(),e.preventDefault())}},{key:\"onKeydown\",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.maintainFocus(e)}},{key:\"getFocusableNodes\",value:function(){var o=this.modal.querySelectorAll(e);return Array.apply(void 0,toConsumableArray(o))}},{key:\"setFocusToFirstNode\",value:function(){if(!this.config.disableFocus){var e=this.getFocusableNodes();e.length&&e[0].focus()}}},{key:\"maintainFocus\",value:function(e){var o=this.getFocusableNodes();if(this.modal.contains(document.activeElement)){var t=o.indexOf(document.activeElement);e.shiftKey&&0===t&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||t!==o.length-1||(o[0].focus(),e.preventDefault())}else o[0].focus()}}]),o}(),t=null,n=function(e,o){var t=[];return e.forEach(function(e){var n=e.attributes[o].value;void 0===t[n]&&(t[n]=[]),t[n].push(e)}),t},i=function(e){if(!document.getElementById(e))return console.warn(\"MicroModal v\"+version+\": ❗Seems like you have missed %c'\"+e+\"'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"ID somewhere in your code. Refer example below to resolve it.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<div class=\"modal\" id=\"'+e+'\"></div>'),!1},a=function(e){if(e.length<=0)return console.warn(\"MicroModal v\"+version+\": ❗Please specify at least one %c'micromodal-trigger'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"data attribute.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>'),!1},r=function(e,o){if(a(e),!o)return!0;for(var t in o)i(t);return!0};return{init:function(e){var t=Object.assign({},{openTrigger:\"data-micromodal-trigger\"},e),i=[].concat(toConsumableArray(document.querySelectorAll(\"[\"+t.openTrigger+\"]\"))),a=n(i,t.openTrigger);if(!0!==t.debugMode||!1!==r(i,a))for(var s in a){var l=a[s];t.targetModal=s,t.triggers=[].concat(toConsumableArray(l)),new o(t)}},show:function(e,n){var a=n||{};a.targetModal=e,!0===a.debugMode&&!1===i(e)||(t=new o(a)).showModal()},close:function(e){e?t.closeModalById(e):t.closeModal()}}}();/* harmony default export */ __webpack_exports__[\"default\"] = (MicroModal);\n\n\n//# sourceURL=webpack:///./node_modules/micromodal/dist/micromodal.es.js?");

/***/ }),

/***/ "./node_modules/shufflejs/dist/shuffle.esm.js":
/*!****************************************************!*\
  !*** ./node_modules/shufflejs/dist/shuffle.esm.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    }\n    listener._ = callback;\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nvar tinyEmitter = E;\n\nvar proto = typeof Element !== 'undefined' ? Element.prototype : {};\nvar vendor = proto.matches\n  || proto.matchesSelector\n  || proto.webkitMatchesSelector\n  || proto.mozMatchesSelector\n  || proto.msMatchesSelector\n  || proto.oMatchesSelector;\n\nvar matchesSelector = match;\n\n/**\n * Match `el` to `selector`.\n *\n * @param {Element} el\n * @param {String} selector\n * @return {Boolean}\n * @api public\n */\n\nfunction match(el, selector) {\n  if (!el || el.nodeType !== 1) return false;\n  if (vendor) return vendor.call(el, selector);\n  var nodes = el.parentNode.querySelectorAll(selector);\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i] == el) return true;\n  }\n  return false;\n}\n\nvar throttleit = throttle;\n\n/**\n * Returns a new function that, when invoked, invokes `func` at most once per `wait` milliseconds.\n *\n * @param {Function} func Function to wrap.\n * @param {Number} wait Number of milliseconds that must elapse between `func` invocations.\n * @return {Function} A new function that wraps the `func` function passed in.\n */\n\nfunction throttle (func, wait) {\n  var ctx, args, rtn, timeoutID; // caching\n  var last = 0;\n\n  return function throttled () {\n    ctx = this;\n    args = arguments;\n    var delta = new Date() - last;\n    if (!timeoutID)\n      if (delta >= wait) call();\n      else timeoutID = setTimeout(call, wait - delta);\n    return rtn;\n  };\n\n  function call () {\n    timeoutID = 0;\n    last = +new Date();\n    rtn = func.apply(ctx, args);\n    ctx = null;\n    args = null;\n  }\n}\n\nvar arrayParallel = function parallel(fns, context, callback) {\n  if (!callback) {\n    if (typeof context === 'function') {\n      callback = context;\n      context = null;\n    } else {\n      callback = noop;\n    }\n  }\n\n  var pending = fns && fns.length;\n  if (!pending) return callback(null, []);\n\n  var finished = false;\n  var results = new Array(pending);\n\n  fns.forEach(context ? function (fn, i) {\n    fn.call(context, maybeDone(i));\n  } : function (fn, i) {\n    fn(maybeDone(i));\n  });\n\n  function maybeDone(i) {\n    return function (err, result) {\n      if (finished) return;\n\n      if (err) {\n        callback(err, results);\n        finished = true;\n        return\n      }\n\n      results[i] = result;\n\n      if (!--pending) callback(null, results);\n    }\n  }\n};\n\nfunction noop() {}\n\n/**\n * Always returns a numeric value, given a value. Logic from jQuery's `isNumeric`.\n * @param {*} value Possibly numeric value.\n * @return {number} `value` or zero if `value` isn't numeric.\n */\nfunction getNumber(value) {\n  return parseFloat(value) || 0;\n}\n\nvar Point =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Represents a coordinate pair.\n   * @param {number} [x=0] X.\n   * @param {number} [y=0] Y.\n   */\n  function Point(x, y) {\n    _classCallCheck(this, Point);\n\n    this.x = getNumber(x);\n    this.y = getNumber(y);\n  }\n  /**\n   * Whether two points are equal.\n   * @param {Point} a Point A.\n   * @param {Point} b Point B.\n   * @return {boolean}\n   */\n\n\n  _createClass(Point, null, [{\n    key: \"equals\",\n    value: function equals(a, b) {\n      return a.x === b.x && a.y === b.y;\n    }\n  }]);\n\n  return Point;\n}();\n\nvar Rect =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Class for representing rectangular regions.\n   * https://github.com/google/closure-library/blob/master/closure/goog/math/rect.js\n   * @param {number} x Left.\n   * @param {number} y Top.\n   * @param {number} w Width.\n   * @param {number} h Height.\n   * @param {number} id Identifier\n   * @constructor\n   */\n  function Rect(x, y, w, h, id) {\n    _classCallCheck(this, Rect);\n\n    this.id = id;\n    /** @type {number} */\n\n    this.left = x;\n    /** @type {number} */\n\n    this.top = y;\n    /** @type {number} */\n\n    this.width = w;\n    /** @type {number} */\n\n    this.height = h;\n  }\n  /**\n   * Returns whether two rectangles intersect.\n   * @param {Rect} a A Rectangle.\n   * @param {Rect} b A Rectangle.\n   * @return {boolean} Whether a and b intersect.\n   */\n\n\n  _createClass(Rect, null, [{\n    key: \"intersects\",\n    value: function intersects(a, b) {\n      return a.left < b.left + b.width && b.left < a.left + a.width && a.top < b.top + b.height && b.top < a.top + a.height;\n    }\n  }]);\n\n  return Rect;\n}();\n\nvar Classes = {\n  BASE: 'shuffle',\n  SHUFFLE_ITEM: 'shuffle-item',\n  VISIBLE: 'shuffle-item--visible',\n  HIDDEN: 'shuffle-item--hidden'\n};\n\nvar id$1 = 0;\n\nvar ShuffleItem =\n/*#__PURE__*/\nfunction () {\n  function ShuffleItem(element) {\n    _classCallCheck(this, ShuffleItem);\n\n    id$1 += 1;\n    this.id = id$1;\n    this.element = element;\n    /**\n     * Used to separate items for layout and shrink.\n     */\n\n    this.isVisible = true;\n    /**\n     * Used to determine if a transition will happen. By the time the _layout\n     * and _shrink methods get the ShuffleItem instances, the `isVisible` value\n     * has already been changed by the separation methods, so this property is\n     * needed to know if the item was visible/hidden before the shrink/layout.\n     */\n\n    this.isHidden = false;\n  }\n\n  _createClass(ShuffleItem, [{\n    key: \"show\",\n    value: function show() {\n      this.isVisible = true;\n      this.element.classList.remove(Classes.HIDDEN);\n      this.element.classList.add(Classes.VISIBLE);\n      this.element.removeAttribute('aria-hidden');\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.isVisible = false;\n      this.element.classList.remove(Classes.VISIBLE);\n      this.element.classList.add(Classes.HIDDEN);\n      this.element.setAttribute('aria-hidden', true);\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.addClasses([Classes.SHUFFLE_ITEM, Classes.VISIBLE]);\n      this.applyCss(ShuffleItem.Css.INITIAL);\n      this.scale = ShuffleItem.Scale.VISIBLE;\n      this.point = new Point();\n    }\n  }, {\n    key: \"addClasses\",\n    value: function addClasses(classes) {\n      var _this = this;\n\n      classes.forEach(function (className) {\n        _this.element.classList.add(className);\n      });\n    }\n  }, {\n    key: \"removeClasses\",\n    value: function removeClasses(classes) {\n      var _this2 = this;\n\n      classes.forEach(function (className) {\n        _this2.element.classList.remove(className);\n      });\n    }\n  }, {\n    key: \"applyCss\",\n    value: function applyCss(obj) {\n      var _this3 = this;\n\n      Object.keys(obj).forEach(function (key) {\n        _this3.element.style[key] = obj[key];\n      });\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.removeClasses([Classes.HIDDEN, Classes.VISIBLE, Classes.SHUFFLE_ITEM]);\n      this.element.removeAttribute('style');\n      this.element = null;\n    }\n  }]);\n\n  return ShuffleItem;\n}();\n\nShuffleItem.Css = {\n  INITIAL: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    visibility: 'visible',\n    'will-change': 'transform'\n  },\n  VISIBLE: {\n    before: {\n      opacity: 1,\n      visibility: 'visible'\n    },\n    after: {\n      transitionDelay: ''\n    }\n  },\n  HIDDEN: {\n    before: {\n      opacity: 0\n    },\n    after: {\n      visibility: 'hidden',\n      transitionDelay: ''\n    }\n  }\n};\nShuffleItem.Scale = {\n  VISIBLE: 1,\n  HIDDEN: 0.001\n};\n\nvar value = null;\nvar testComputedSize = (function () {\n  if (value !== null) {\n    return value;\n  }\n\n  var element = document.body || document.documentElement;\n  var e = document.createElement('div');\n  e.style.cssText = 'width:10px;padding:2px;box-sizing:border-box;';\n  element.appendChild(e);\n  value = window.getComputedStyle(e, null).width === '10px';\n  element.removeChild(e);\n  return value;\n});\n\n/**\n * Retrieve the computed style for an element, parsed as a float.\n * @param {Element} element Element to get style for.\n * @param {string} style Style property.\n * @param {CSSStyleDeclaration} [styles] Optionally include clean styles to\n *     use instead of asking for them again.\n * @return {number} The parsed computed value or zero if that fails because IE\n *     will return 'auto' when the element doesn't have margins instead of\n *     the computed style.\n */\n\nfunction getNumberStyle(element, style) {\n  var styles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window.getComputedStyle(element, null);\n  var value = getNumber(styles[style]); // Support IE<=11 and W3C spec.\n\n  if (!testComputedSize() && style === 'width') {\n    value += getNumber(styles.paddingLeft) + getNumber(styles.paddingRight) + getNumber(styles.borderLeftWidth) + getNumber(styles.borderRightWidth);\n  } else if (!testComputedSize() && style === 'height') {\n    value += getNumber(styles.paddingTop) + getNumber(styles.paddingBottom) + getNumber(styles.borderTopWidth) + getNumber(styles.borderBottomWidth);\n  }\n\n  return value;\n}\n\n/**\n * Fisher-Yates shuffle.\n * http://stackoverflow.com/a/962890/373422\n * https://bost.ocks.org/mike/shuffle/\n * @param {Array} array Array to shuffle.\n * @return {Array} Randomly sorted array.\n */\nfunction randomize(array) {\n  var n = array.length;\n\n  while (n) {\n    n -= 1;\n    var i = Math.floor(Math.random() * (n + 1));\n    var temp = array[i];\n    array[i] = array[n];\n    array[n] = temp;\n  }\n\n  return array;\n}\n\nvar defaults = {\n  // Use array.reverse() to reverse the results\n  reverse: false,\n  // Sorting function\n  by: null,\n  // Custom sort function\n  compare: null,\n  // If true, this will skip the sorting and return a randomized order in the array\n  randomize: false,\n  // Determines which property of each item in the array is passed to the\n  // sorting method.\n  key: 'element'\n}; // You can return `undefined` from the `by` function to revert to DOM order.\n\nfunction sorter(arr, options) {\n  var opts = Object.assign({}, defaults, options);\n  var original = Array.from(arr);\n  var revert = false;\n\n  if (!arr.length) {\n    return [];\n  }\n\n  if (opts.randomize) {\n    return randomize(arr);\n  } // Sort the elements by the opts.by function.\n  // If we don't have opts.by, default to DOM order\n\n\n  if (typeof opts.by === 'function') {\n    arr.sort(function (a, b) {\n      // Exit early if we already know we want to revert\n      if (revert) {\n        return 0;\n      }\n\n      var valA = opts.by(a[opts.key]);\n      var valB = opts.by(b[opts.key]); // If both values are undefined, use the DOM order\n\n      if (valA === undefined && valB === undefined) {\n        revert = true;\n        return 0;\n      }\n\n      if (valA < valB || valA === 'sortFirst' || valB === 'sortLast') {\n        return -1;\n      }\n\n      if (valA > valB || valA === 'sortLast' || valB === 'sortFirst') {\n        return 1;\n      }\n\n      return 0;\n    });\n  } else if (typeof opts.compare === 'function') {\n    arr.sort(opts.compare);\n  } // Revert to the original array if necessary\n\n\n  if (revert) {\n    return original;\n  }\n\n  if (opts.reverse) {\n    arr.reverse();\n  }\n\n  return arr;\n}\n\nvar transitions = {};\nvar eventName = 'transitionend';\nvar count = 0;\n\nfunction uniqueId() {\n  count += 1;\n  return eventName + count;\n}\n\nfunction cancelTransitionEnd(id) {\n  if (transitions[id]) {\n    transitions[id].element.removeEventListener(eventName, transitions[id].listener);\n    transitions[id] = null;\n    return true;\n  }\n\n  return false;\n}\nfunction onTransitionEnd(element, callback) {\n  var id = uniqueId();\n\n  var listener = function listener(evt) {\n    if (evt.currentTarget === evt.target) {\n      cancelTransitionEnd(id);\n      callback(evt);\n    }\n  };\n\n  element.addEventListener(eventName, listener);\n  transitions[id] = {\n    element: element,\n    listener: listener\n  };\n  return id;\n}\n\nfunction arrayMax(array) {\n  return Math.max.apply(Math, array); // eslint-disable-line prefer-spread\n}\n\nfunction arrayMin(array) {\n  return Math.min.apply(Math, array); // eslint-disable-line prefer-spread\n}\n\n/**\n * Determine the number of columns an items spans.\n * @param {number} itemWidth Width of the item.\n * @param {number} columnWidth Width of the column (includes gutter).\n * @param {number} columns Total number of columns\n * @param {number} threshold A buffer value for the size of the column to fit.\n * @return {number}\n */\n\nfunction getColumnSpan(itemWidth, columnWidth, columns, threshold) {\n  var columnSpan = itemWidth / columnWidth; // If the difference between the rounded column span number and the\n  // calculated column span number is really small, round the number to\n  // make it fit.\n\n  if (Math.abs(Math.round(columnSpan) - columnSpan) < threshold) {\n    // e.g. columnSpan = 4.0089945390298745\n    columnSpan = Math.round(columnSpan);\n  } // Ensure the column span is not more than the amount of columns in the whole layout.\n\n\n  return Math.min(Math.ceil(columnSpan), columns);\n}\n/**\n * Retrieves the column set to use for placement.\n * @param {number} columnSpan The number of columns this current item spans.\n * @param {number} columns The total columns in the grid.\n * @return {Array.<number>} An array of numbers represeting the column set.\n */\n\nfunction getAvailablePositions(positions, columnSpan, columns) {\n  // The item spans only one column.\n  if (columnSpan === 1) {\n    return positions;\n  } // The item spans more than one column, figure out how many different\n  // places it could fit horizontally.\n  // The group count is the number of places within the positions this block\n  // could fit, ignoring the current positions of items.\n  // Imagine a 2 column brick as the second item in a 4 column grid with\n  // 10px height each. Find the places it would fit:\n  // [20, 10, 10, 0]\n  //  |   |   |\n  //  *   *   *\n  //\n  // Then take the places which fit and get the bigger of the two:\n  // max([20, 10]), max([10, 10]), max([10, 0]) = [20, 10, 10]\n  //\n  // Next, find the first smallest number (the short column).\n  // [20, 10, 10]\n  //      |\n  //      *\n  //\n  // And that's where it should be placed!\n  //\n  // Another example where the second column's item extends past the first:\n  // [10, 20, 10, 0] => [20, 20, 10] => 10\n\n\n  var available = []; // For how many possible positions for this item there are.\n\n  for (var i = 0; i <= columns - columnSpan; i++) {\n    // Find the bigger value for each place it could fit.\n    available.push(arrayMax(positions.slice(i, i + columnSpan)));\n  }\n\n  return available;\n}\n/**\n * Find index of short column, the first from the left where this item will go.\n *\n * @param {Array.<number>} positions The array to search for the smallest number.\n * @param {number} buffer Optional buffer which is very useful when the height\n *     is a percentage of the width.\n * @return {number} Index of the short column.\n */\n\nfunction getShortColumn(positions, buffer) {\n  var minPosition = arrayMin(positions);\n\n  for (var i = 0, len = positions.length; i < len; i++) {\n    if (positions[i] >= minPosition - buffer && positions[i] <= minPosition + buffer) {\n      return i;\n    }\n  }\n\n  return 0;\n}\n/**\n * Determine the location of the next item, based on its size.\n * @param {Object} itemSize Object with width and height.\n * @param {Array.<number>} positions Positions of the other current items.\n * @param {number} gridSize The column width or row height.\n * @param {number} total The total number of columns or rows.\n * @param {number} threshold Buffer value for the column to fit.\n * @param {number} buffer Vertical buffer for the height of items.\n * @return {Point}\n */\n\nfunction getItemPosition(_ref) {\n  var itemSize = _ref.itemSize,\n      positions = _ref.positions,\n      gridSize = _ref.gridSize,\n      total = _ref.total,\n      threshold = _ref.threshold,\n      buffer = _ref.buffer;\n  var span = getColumnSpan(itemSize.width, gridSize, total, threshold);\n  var setY = getAvailablePositions(positions, span, total);\n  var shortColumnIndex = getShortColumn(setY, buffer); // Position the item\n\n  var point = new Point(gridSize * shortColumnIndex, setY[shortColumnIndex]); // Update the columns array with the new values for each column.\n  // e.g. before the update the columns could be [250, 0, 0, 0] for an item\n  // which spans 2 columns. After it would be [250, itemHeight, itemHeight, 0].\n\n  var setHeight = setY[shortColumnIndex] + itemSize.height;\n\n  for (var i = 0; i < span; i++) {\n    positions[shortColumnIndex + i] = setHeight;\n  }\n\n  return point;\n}\n/**\n * This method attempts to center items. This method could potentially be slow\n * with a large number of items because it must place items, then check every\n * previous item to ensure there is no overlap.\n * @param {Array.<Rect>} itemRects Item data objects.\n * @param {number} containerWidth Width of the containing element.\n * @return {Array.<Point>}\n */\n\nfunction getCenteredPositions(itemRects, containerWidth) {\n  var rowMap = {}; // Populate rows by their offset because items could jump between rows like:\n  // a   c\n  //  bbb\n\n  itemRects.forEach(function (itemRect) {\n    if (rowMap[itemRect.top]) {\n      // Push the point to the last row array.\n      rowMap[itemRect.top].push(itemRect);\n    } else {\n      // Start of a new row.\n      rowMap[itemRect.top] = [itemRect];\n    }\n  }); // For each row, find the end of the last item, then calculate\n  // the remaining space by dividing it by 2. Then add that\n  // offset to the x position of each point.\n\n  var rects = [];\n  var rows = [];\n  var centeredRows = [];\n  Object.keys(rowMap).forEach(function (key) {\n    var itemRects = rowMap[key];\n    rows.push(itemRects);\n    var lastItem = itemRects[itemRects.length - 1];\n    var end = lastItem.left + lastItem.width;\n    var offset = Math.round((containerWidth - end) / 2);\n    var finalRects = itemRects;\n    var canMove = false;\n\n    if (offset > 0) {\n      var newRects = [];\n      canMove = itemRects.every(function (r) {\n        var newRect = new Rect(r.left + offset, r.top, r.width, r.height, r.id); // Check all current rects to make sure none overlap.\n\n        var noOverlap = !rects.some(function (r) {\n          return Rect.intersects(newRect, r);\n        });\n        newRects.push(newRect);\n        return noOverlap;\n      }); // If none of the rectangles overlapped, the whole group can be centered.\n\n      if (canMove) {\n        finalRects = newRects;\n      }\n    } // If the items are not going to be offset, ensure that the original\n    // placement for this row will not overlap previous rows (row-spanning\n    // elements could be in the way).\n\n\n    if (!canMove) {\n      var intersectingRect;\n      var hasOverlap = itemRects.some(function (itemRect) {\n        return rects.some(function (r) {\n          var intersects = Rect.intersects(itemRect, r);\n\n          if (intersects) {\n            intersectingRect = r;\n          }\n\n          return intersects;\n        });\n      }); // If there is any overlap, replace the overlapping row with the original.\n\n      if (hasOverlap) {\n        var rowIndex = centeredRows.findIndex(function (items) {\n          return items.includes(intersectingRect);\n        });\n        centeredRows.splice(rowIndex, 1, rows[rowIndex]);\n      }\n    }\n\n    rects = rects.concat(finalRects);\n    centeredRows.push(finalRects);\n  }); // Reduce array of arrays to a single array of points.\n  // https://stackoverflow.com/a/10865042/373422\n  // Then reset sort back to how the items were passed to this method.\n  // Remove the wrapper object with index, map to a Point.\n\n  return [].concat.apply([], centeredRows) // eslint-disable-line prefer-spread\n  .sort(function (a, b) {\n    return a.id - b.id;\n  }).map(function (itemRect) {\n    return new Point(itemRect.left, itemRect.top);\n  });\n}\n\n/**\n * Hyphenates a javascript style string to a css one. For example:\n * MozBoxSizing -> -moz-box-sizing.\n * @param {string} str The string to hyphenate.\n * @return {string} The hyphenated string.\n */\nfunction hyphenate(str) {\n  return str.replace(/([A-Z])/g, function (str, m1) {\n    return \"-\".concat(m1.toLowerCase());\n  });\n}\n\nfunction arrayUnique(x) {\n  return Array.from(new Set(x));\n} // Used for unique instance variables\n\n\nvar id$2 = 0;\n\nvar Shuffle =\n/*#__PURE__*/\nfunction (_TinyEmitter) {\n  _inherits(Shuffle, _TinyEmitter);\n\n  /**\n   * Categorize, sort, and filter a responsive grid of items.\n   *\n   * @param {Element} element An element which is the parent container for the grid items.\n   * @param {Object} [options=Shuffle.options] Options object.\n   * @constructor\n   */\n  function Shuffle(element) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Shuffle);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Shuffle).call(this));\n    _this.options = Object.assign({}, Shuffle.options, options); // Allow misspelling of delimiter since that's how it used to be.\n    // Remove in v6.\n\n    if (_this.options.delimeter) {\n      _this.options.delimiter = _this.options.delimeter;\n    }\n\n    _this.lastSort = {};\n    _this.group = Shuffle.ALL_ITEMS;\n    _this.lastFilter = Shuffle.ALL_ITEMS;\n    _this.isEnabled = true;\n    _this.isDestroyed = false;\n    _this.isInitialized = false;\n    _this._transitions = [];\n    _this.isTransitioning = false;\n    _this._queue = [];\n\n    var el = _this._getElementOption(element);\n\n    if (!el) {\n      throw new TypeError('Shuffle needs to be initialized with an element.');\n    }\n\n    _this.element = el;\n    _this.id = 'shuffle_' + id$2;\n    id$2 += 1;\n\n    _this._init();\n\n    _this.isInitialized = true;\n    return _this;\n  }\n\n  _createClass(Shuffle, [{\n    key: \"_init\",\n    value: function _init() {\n      this.items = this._getItems();\n      this.options.sizer = this._getElementOption(this.options.sizer); // Add class and invalidate styles\n\n      this.element.classList.add(Shuffle.Classes.BASE); // Set initial css for each item\n\n      this._initItems(this.items); // Bind resize events\n\n\n      this._onResize = this._getResizeFunction();\n      window.addEventListener('resize', this._onResize); // If the page has not already emitted the `load` event, call layout on load.\n      // This avoids layout issues caused by images and fonts loading after the\n      // instance has been initialized.\n\n      if (document.readyState !== 'complete') {\n        var layout = this.layout.bind(this);\n        window.addEventListener('load', function onLoad() {\n          window.removeEventListener('load', onLoad);\n          layout();\n        });\n      } // Get container css all in one request. Causes reflow\n\n\n      var containerCss = window.getComputedStyle(this.element, null);\n      var containerWidth = Shuffle.getSize(this.element).width; // Add styles to the container if it doesn't have them.\n\n      this._validateStyles(containerCss); // We already got the container's width above, no need to cause another\n      // reflow getting it again... Calculate the number of columns there will be\n\n\n      this._setColumns(containerWidth); // Kick off!\n\n\n      this.filter(this.options.group, this.options.initialSort); // The shuffle items haven't had transitions set on them yet so the user\n      // doesn't see the first layout. Set them now that the first layout is done.\n      // First, however, a synchronous layout must be caused for the previous\n      // styles to be applied without transitions.\n\n      this.element.offsetWidth; // eslint-disable-line no-unused-expressions\n\n      this.setItemTransitions(this.items);\n      this.element.style.transition = \"height \".concat(this.options.speed, \"ms \").concat(this.options.easing);\n    }\n    /**\n     * Returns a throttled and proxied function for the resize handler.\n     * @return {function}\n     * @private\n     */\n\n  }, {\n    key: \"_getResizeFunction\",\n    value: function _getResizeFunction() {\n      var resizeFunction = this._handleResize.bind(this);\n\n      return this.options.throttle ? this.options.throttle(resizeFunction, this.options.throttleTime) : resizeFunction;\n    }\n    /**\n     * Retrieve an element from an option.\n     * @param {string|jQuery|Element} option The option to check.\n     * @return {?Element} The plain element or null.\n     * @private\n     */\n\n  }, {\n    key: \"_getElementOption\",\n    value: function _getElementOption(option) {\n      // If column width is a string, treat is as a selector and search for the\n      // sizer element within the outermost container\n      if (typeof option === 'string') {\n        return this.element.querySelector(option);\n      } // Check for an element\n\n\n      if (option && option.nodeType && option.nodeType === 1) {\n        return option;\n      } // Check for jQuery object\n\n\n      if (option && option.jquery) {\n        return option[0];\n      }\n\n      return null;\n    }\n    /**\n     * Ensures the shuffle container has the css styles it needs applied to it.\n     * @param {Object} styles Key value pairs for position and overflow.\n     * @private\n     */\n\n  }, {\n    key: \"_validateStyles\",\n    value: function _validateStyles(styles) {\n      // Position cannot be static.\n      if (styles.position === 'static') {\n        this.element.style.position = 'relative';\n      } // Overflow has to be hidden.\n\n\n      if (styles.overflow !== 'hidden') {\n        this.element.style.overflow = 'hidden';\n      }\n    }\n    /**\n     * Filter the elements by a category.\n     * @param {string|string[]|function(Element):boolean} [category] Category to\n     *     filter by. If it's given, the last category will be used to filter the items.\n     * @param {Array} [collection] Optionally filter a collection. Defaults to\n     *     all the items.\n     * @return {{visible: ShuffleItem[], hidden: ShuffleItem[]}}\n     * @private\n     */\n\n  }, {\n    key: \"_filter\",\n    value: function _filter() {\n      var category = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.lastFilter;\n      var collection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.items;\n\n      var set = this._getFilteredSets(category, collection); // Individually add/remove hidden/visible classes\n\n\n      this._toggleFilterClasses(set); // Save the last filter in case elements are appended.\n\n\n      this.lastFilter = category; // This is saved mainly because providing a filter function (like searching)\n      // will overwrite the `lastFilter` property every time its called.\n\n      if (typeof category === 'string') {\n        this.group = category;\n      }\n\n      return set;\n    }\n    /**\n     * Returns an object containing the visible and hidden elements.\n     * @param {string|string[]|function(Element):boolean} category Category or function to filter by.\n     * @param {ShuffleItem[]} items A collection of items to filter.\n     * @return {{visible: ShuffleItem[], hidden: ShuffleItem[]}}\n     * @private\n     */\n\n  }, {\n    key: \"_getFilteredSets\",\n    value: function _getFilteredSets(category, items) {\n      var _this2 = this;\n\n      var visible = [];\n      var hidden = []; // category === 'all', add visible class to everything\n\n      if (category === Shuffle.ALL_ITEMS) {\n        visible = items; // Loop through each item and use provided function to determine\n        // whether to hide it or not.\n      } else {\n        items.forEach(function (item) {\n          if (_this2._doesPassFilter(category, item.element)) {\n            visible.push(item);\n          } else {\n            hidden.push(item);\n          }\n        });\n      }\n\n      return {\n        visible: visible,\n        hidden: hidden\n      };\n    }\n    /**\n     * Test an item to see if it passes a category.\n     * @param {string|string[]|function():boolean} category Category or function to filter by.\n     * @param {Element} element An element to test.\n     * @return {boolean} Whether it passes the category/filter.\n     * @private\n     */\n\n  }, {\n    key: \"_doesPassFilter\",\n    value: function _doesPassFilter(category, element) {\n      if (typeof category === 'function') {\n        return category.call(element, element, this);\n      } // Check each element's data-groups attribute against the given category.\n\n\n      var attr = element.getAttribute('data-' + Shuffle.FILTER_ATTRIBUTE_KEY);\n      var keys = this.options.delimiter ? attr.split(this.options.delimiter) : JSON.parse(attr);\n\n      function testCategory(category) {\n        return keys.includes(category);\n      }\n\n      if (Array.isArray(category)) {\n        if (this.options.filterMode === Shuffle.FilterMode.ANY) {\n          return category.some(testCategory);\n        }\n\n        return category.every(testCategory);\n      }\n\n      return keys.includes(category);\n    }\n    /**\n     * Toggles the visible and hidden class names.\n     * @param {{visible, hidden}} Object with visible and hidden arrays.\n     * @private\n     */\n\n  }, {\n    key: \"_toggleFilterClasses\",\n    value: function _toggleFilterClasses(_ref) {\n      var visible = _ref.visible,\n          hidden = _ref.hidden;\n      visible.forEach(function (item) {\n        item.show();\n      });\n      hidden.forEach(function (item) {\n        item.hide();\n      });\n    }\n    /**\n     * Set the initial css for each item\n     * @param {ShuffleItem[]} items Set to initialize.\n     * @private\n     */\n\n  }, {\n    key: \"_initItems\",\n    value: function _initItems(items) {\n      items.forEach(function (item) {\n        item.init();\n      });\n    }\n    /**\n     * Remove element reference and styles.\n     * @param {ShuffleItem[]} items Set to dispose.\n     * @private\n     */\n\n  }, {\n    key: \"_disposeItems\",\n    value: function _disposeItems(items) {\n      items.forEach(function (item) {\n        item.dispose();\n      });\n    }\n    /**\n     * Updates the visible item count.\n     * @private\n     */\n\n  }, {\n    key: \"_updateItemCount\",\n    value: function _updateItemCount() {\n      this.visibleItems = this._getFilteredItems().length;\n    }\n    /**\n     * Sets css transform transition on a group of elements. This is not executed\n     * at the same time as `item.init` so that transitions don't occur upon\n     * initialization of a new Shuffle instance.\n     * @param {ShuffleItem[]} items Shuffle items to set transitions on.\n     * @protected\n     */\n\n  }, {\n    key: \"setItemTransitions\",\n    value: function setItemTransitions(items) {\n      var _this$options = this.options,\n          speed = _this$options.speed,\n          easing = _this$options.easing;\n      var positionProps = this.options.useTransforms ? ['transform'] : ['top', 'left']; // Allow users to transtion other properties if they exist in the `before`\n      // css mapping of the shuffle item.\n\n      var cssProps = Object.keys(ShuffleItem.Css.HIDDEN.before).map(function (k) {\n        return hyphenate(k);\n      });\n      var properties = positionProps.concat(cssProps).join();\n      items.forEach(function (item) {\n        item.element.style.transitionDuration = speed + 'ms';\n        item.element.style.transitionTimingFunction = easing;\n        item.element.style.transitionProperty = properties;\n      });\n    }\n  }, {\n    key: \"_getItems\",\n    value: function _getItems() {\n      var _this3 = this;\n\n      return Array.from(this.element.children).filter(function (el) {\n        return matchesSelector(el, _this3.options.itemSelector);\n      }).map(function (el) {\n        return new ShuffleItem(el);\n      });\n    }\n    /**\n     * Combine the current items array with a new one and sort it by DOM order.\n     * @param {ShuffleItem[]} items Items to track.\n     * @return {ShuffleItem[]}\n     */\n\n  }, {\n    key: \"_mergeNewItems\",\n    value: function _mergeNewItems(items) {\n      var children = Array.from(this.element.children);\n      return sorter(this.items.concat(items), {\n        by: function by(element) {\n          return children.indexOf(element);\n        }\n      });\n    }\n  }, {\n    key: \"_getFilteredItems\",\n    value: function _getFilteredItems() {\n      return this.items.filter(function (item) {\n        return item.isVisible;\n      });\n    }\n  }, {\n    key: \"_getConcealedItems\",\n    value: function _getConcealedItems() {\n      return this.items.filter(function (item) {\n        return !item.isVisible;\n      });\n    }\n    /**\n     * Returns the column size, based on column width and sizer options.\n     * @param {number} containerWidth Size of the parent container.\n     * @param {number} gutterSize Size of the gutters.\n     * @return {number}\n     * @private\n     */\n\n  }, {\n    key: \"_getColumnSize\",\n    value: function _getColumnSize(containerWidth, gutterSize) {\n      var size; // If the columnWidth property is a function, then the grid is fluid\n\n      if (typeof this.options.columnWidth === 'function') {\n        size = this.options.columnWidth(containerWidth); // columnWidth option isn't a function, are they using a sizing element?\n      } else if (this.options.sizer) {\n        size = Shuffle.getSize(this.options.sizer).width; // if not, how about the explicitly set option?\n      } else if (this.options.columnWidth) {\n        size = this.options.columnWidth; // or use the size of the first item\n      } else if (this.items.length > 0) {\n        size = Shuffle.getSize(this.items[0].element, true).width; // if there's no items, use size of container\n      } else {\n        size = containerWidth;\n      } // Don't let them set a column width of zero.\n\n\n      if (size === 0) {\n        size = containerWidth;\n      }\n\n      return size + gutterSize;\n    }\n    /**\n     * Returns the gutter size, based on gutter width and sizer options.\n     * @param {number} containerWidth Size of the parent container.\n     * @return {number}\n     * @private\n     */\n\n  }, {\n    key: \"_getGutterSize\",\n    value: function _getGutterSize(containerWidth) {\n      var size;\n\n      if (typeof this.options.gutterWidth === 'function') {\n        size = this.options.gutterWidth(containerWidth);\n      } else if (this.options.sizer) {\n        size = getNumberStyle(this.options.sizer, 'marginLeft');\n      } else {\n        size = this.options.gutterWidth;\n      }\n\n      return size;\n    }\n    /**\n     * Calculate the number of columns to be used. Gets css if using sizer element.\n     * @param {number} [containerWidth] Optionally specify a container width if\n     *    it's already available.\n     */\n\n  }, {\n    key: \"_setColumns\",\n    value: function _setColumns() {\n      var containerWidth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Shuffle.getSize(this.element).width;\n\n      var gutter = this._getGutterSize(containerWidth);\n\n      var columnWidth = this._getColumnSize(containerWidth, gutter);\n\n      var calculatedColumns = (containerWidth + gutter) / columnWidth; // Widths given from getStyles are not precise enough...\n\n      if (Math.abs(Math.round(calculatedColumns) - calculatedColumns) < this.options.columnThreshold) {\n        // e.g. calculatedColumns = 11.998876\n        calculatedColumns = Math.round(calculatedColumns);\n      }\n\n      this.cols = Math.max(Math.floor(calculatedColumns), 1);\n      this.containerWidth = containerWidth;\n      this.colWidth = columnWidth;\n    }\n    /**\n     * Adjust the height of the grid\n     */\n\n  }, {\n    key: \"_setContainerSize\",\n    value: function _setContainerSize() {\n      this.element.style.height = this._getContainerSize() + 'px';\n    }\n    /**\n     * Based on the column heights, it returns the biggest one.\n     * @return {number}\n     * @private\n     */\n\n  }, {\n    key: \"_getContainerSize\",\n    value: function _getContainerSize() {\n      return arrayMax(this.positions);\n    }\n    /**\n     * Get the clamped stagger amount.\n     * @param {number} index Index of the item to be staggered.\n     * @return {number}\n     */\n\n  }, {\n    key: \"_getStaggerAmount\",\n    value: function _getStaggerAmount(index) {\n      return Math.min(index * this.options.staggerAmount, this.options.staggerAmountMax);\n    }\n    /**\n     * Emit an event from this instance.\n     * @param {string} name Event name.\n     * @param {Object} [data={}] Optional object data.\n     */\n\n  }, {\n    key: \"_dispatch\",\n    value: function _dispatch(name) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.isDestroyed) {\n        return;\n      }\n\n      data.shuffle = this;\n      this.emit(name, data);\n    }\n    /**\n     * Zeros out the y columns array, which is used to determine item placement.\n     * @private\n     */\n\n  }, {\n    key: \"_resetCols\",\n    value: function _resetCols() {\n      var i = this.cols;\n      this.positions = [];\n\n      while (i) {\n        i -= 1;\n        this.positions.push(0);\n      }\n    }\n    /**\n     * Loops through each item that should be shown and calculates the x, y position.\n     * @param {ShuffleItem[]} items Array of items that will be shown/layed\n     *     out in order in their array.\n     */\n\n  }, {\n    key: \"_layout\",\n    value: function _layout(items) {\n      var _this4 = this;\n\n      var itemPositions = this._getNextPositions(items);\n\n      var count = 0;\n      items.forEach(function (item, i) {\n        function callback() {\n          item.applyCss(ShuffleItem.Css.VISIBLE.after);\n        } // If the item will not change its position, do not add it to the render\n        // queue. Transitions don't fire when setting a property to the same value.\n\n\n        if (Point.equals(item.point, itemPositions[i]) && !item.isHidden) {\n          item.applyCss(ShuffleItem.Css.VISIBLE.before);\n          callback();\n          return;\n        }\n\n        item.point = itemPositions[i];\n        item.scale = ShuffleItem.Scale.VISIBLE;\n        item.isHidden = false; // Clone the object so that the `before` object isn't modified when the\n        // transition delay is added.\n\n        var styles = _this4.getStylesForTransition(item, ShuffleItem.Css.VISIBLE.before);\n\n        styles.transitionDelay = _this4._getStaggerAmount(count) + 'ms';\n\n        _this4._queue.push({\n          item: item,\n          styles: styles,\n          callback: callback\n        });\n\n        count += 1;\n      });\n    }\n    /**\n     * Return an array of Point instances representing the future positions of\n     * each item.\n     * @param {ShuffleItem[]} items Array of sorted shuffle items.\n     * @return {Point[]}\n     * @private\n     */\n\n  }, {\n    key: \"_getNextPositions\",\n    value: function _getNextPositions(items) {\n      var _this5 = this;\n\n      // If position data is going to be changed, add the item's size to the\n      // transformer to allow for calculations.\n      if (this.options.isCentered) {\n        var itemsData = items.map(function (item, i) {\n          var itemSize = Shuffle.getSize(item.element, true);\n\n          var point = _this5._getItemPosition(itemSize);\n\n          return new Rect(point.x, point.y, itemSize.width, itemSize.height, i);\n        });\n        return this.getTransformedPositions(itemsData, this.containerWidth);\n      } // If no transforms are going to happen, simply return an array of the\n      // future points of each item.\n\n\n      return items.map(function (item) {\n        return _this5._getItemPosition(Shuffle.getSize(item.element, true));\n      });\n    }\n    /**\n     * Determine the location of the next item, based on its size.\n     * @param {{width: number, height: number}} itemSize Object with width and height.\n     * @return {Point}\n     * @private\n     */\n\n  }, {\n    key: \"_getItemPosition\",\n    value: function _getItemPosition(itemSize) {\n      return getItemPosition({\n        itemSize: itemSize,\n        positions: this.positions,\n        gridSize: this.colWidth,\n        total: this.cols,\n        threshold: this.options.columnThreshold,\n        buffer: this.options.buffer\n      });\n    }\n    /**\n     * Mutate positions before they're applied.\n     * @param {Rect[]} itemRects Item data objects.\n     * @param {number} containerWidth Width of the containing element.\n     * @return {Point[]}\n     * @protected\n     */\n\n  }, {\n    key: \"getTransformedPositions\",\n    value: function getTransformedPositions(itemRects, containerWidth) {\n      return getCenteredPositions(itemRects, containerWidth);\n    }\n    /**\n     * Hides the elements that don't match our filter.\n     * @param {ShuffleItem[]} collection Collection to shrink.\n     * @private\n     */\n\n  }, {\n    key: \"_shrink\",\n    value: function _shrink() {\n      var _this6 = this;\n\n      var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._getConcealedItems();\n      var count = 0;\n      collection.forEach(function (item) {\n        function callback() {\n          item.applyCss(ShuffleItem.Css.HIDDEN.after);\n        } // Continuing would add a transitionend event listener to the element, but\n        // that listener would not execute because the transform and opacity would\n        // stay the same.\n        // The callback is executed here because it is not guaranteed to be called\n        // after the transitionend event because the transitionend could be\n        // canceled if another animation starts.\n\n\n        if (item.isHidden) {\n          item.applyCss(ShuffleItem.Css.HIDDEN.before);\n          callback();\n          return;\n        }\n\n        item.scale = ShuffleItem.Scale.HIDDEN;\n        item.isHidden = true;\n\n        var styles = _this6.getStylesForTransition(item, ShuffleItem.Css.HIDDEN.before);\n\n        styles.transitionDelay = _this6._getStaggerAmount(count) + 'ms';\n\n        _this6._queue.push({\n          item: item,\n          styles: styles,\n          callback: callback\n        });\n\n        count += 1;\n      });\n    }\n    /**\n     * Resize handler.\n     * @private\n     */\n\n  }, {\n    key: \"_handleResize\",\n    value: function _handleResize() {\n      // If shuffle is disabled, destroyed, don't do anything\n      if (!this.isEnabled || this.isDestroyed) {\n        return;\n      }\n\n      this.update();\n    }\n    /**\n     * Returns styles which will be applied to the an item for a transition.\n     * @param {ShuffleItem} item Item to get styles for. Should have updated\n     *   scale and point properties.\n     * @param {Object} styleObject Extra styles that will be used in the transition.\n     * @return {!Object} Transforms for transitions, left/top for animate.\n     * @protected\n     */\n\n  }, {\n    key: \"getStylesForTransition\",\n    value: function getStylesForTransition(item, styleObject) {\n      // Clone the object to avoid mutating the original.\n      var styles = Object.assign({}, styleObject);\n\n      if (this.options.useTransforms) {\n        var x = this.options.roundTransforms ? Math.round(item.point.x) : item.point.x;\n        var y = this.options.roundTransforms ? Math.round(item.point.y) : item.point.y;\n        styles.transform = \"translate(\".concat(x, \"px, \").concat(y, \"px) scale(\").concat(item.scale, \")\");\n      } else {\n        styles.left = item.point.x + 'px';\n        styles.top = item.point.y + 'px';\n      }\n\n      return styles;\n    }\n    /**\n     * Listen for the transition end on an element and execute the itemCallback\n     * when it finishes.\n     * @param {Element} element Element to listen on.\n     * @param {function} itemCallback Callback for the item.\n     * @param {function} done Callback to notify `parallel` that this one is done.\n     */\n\n  }, {\n    key: \"_whenTransitionDone\",\n    value: function _whenTransitionDone(element, itemCallback, done) {\n      var id = onTransitionEnd(element, function (evt) {\n        itemCallback();\n        done(null, evt);\n      });\n\n      this._transitions.push(id);\n    }\n    /**\n     * Return a function which will set CSS styles and call the `done` function\n     * when (if) the transition finishes.\n     * @param {Object} opts Transition object.\n     * @return {function} A function to be called with a `done` function.\n     */\n\n  }, {\n    key: \"_getTransitionFunction\",\n    value: function _getTransitionFunction(opts) {\n      var _this7 = this;\n\n      return function (done) {\n        opts.item.applyCss(opts.styles);\n\n        _this7._whenTransitionDone(opts.item.element, opts.callback, done);\n      };\n    }\n    /**\n     * Execute the styles gathered in the style queue. This applies styles to elements,\n     * triggering transitions.\n     * @private\n     */\n\n  }, {\n    key: \"_processQueue\",\n    value: function _processQueue() {\n      if (this.isTransitioning) {\n        this._cancelMovement();\n      }\n\n      var hasSpeed = this.options.speed > 0;\n      var hasQueue = this._queue.length > 0;\n\n      if (hasQueue && hasSpeed && this.isInitialized) {\n        this._startTransitions(this._queue);\n      } else if (hasQueue) {\n        this._styleImmediately(this._queue);\n\n        this._dispatch(Shuffle.EventType.LAYOUT); // A call to layout happened, but none of the newly visible items will\n        // change position or the transition duration is zero, which will not trigger\n        // the transitionend event.\n\n      } else {\n        this._dispatch(Shuffle.EventType.LAYOUT);\n      } // Remove everything in the style queue\n\n\n      this._queue.length = 0;\n    }\n    /**\n     * Wait for each transition to finish, the emit the layout event.\n     * @param {Object[]} transitions Array of transition objects.\n     */\n\n  }, {\n    key: \"_startTransitions\",\n    value: function _startTransitions(transitions) {\n      var _this8 = this;\n\n      // Set flag that shuffle is currently in motion.\n      this.isTransitioning = true; // Create an array of functions to be called.\n\n      var callbacks = transitions.map(function (obj) {\n        return _this8._getTransitionFunction(obj);\n      });\n      arrayParallel(callbacks, this._movementFinished.bind(this));\n    }\n  }, {\n    key: \"_cancelMovement\",\n    value: function _cancelMovement() {\n      // Remove the transition end event for each listener.\n      this._transitions.forEach(cancelTransitionEnd); // Reset the array.\n\n\n      this._transitions.length = 0; // Show it's no longer active.\n\n      this.isTransitioning = false;\n    }\n    /**\n     * Apply styles without a transition.\n     * @param {Object[]} objects Array of transition objects.\n     * @private\n     */\n\n  }, {\n    key: \"_styleImmediately\",\n    value: function _styleImmediately(objects) {\n      if (objects.length) {\n        var elements = objects.map(function (obj) {\n          return obj.item.element;\n        });\n\n        Shuffle._skipTransitions(elements, function () {\n          objects.forEach(function (obj) {\n            obj.item.applyCss(obj.styles);\n            obj.callback();\n          });\n        });\n      }\n    }\n  }, {\n    key: \"_movementFinished\",\n    value: function _movementFinished() {\n      this._transitions.length = 0;\n      this.isTransitioning = false;\n\n      this._dispatch(Shuffle.EventType.LAYOUT);\n    }\n    /**\n     * The magic. This is what makes the plugin 'shuffle'\n     * @param {string|string[]|function(Element):boolean} [category] Category to filter by.\n     *     Can be a function, string, or array of strings.\n     * @param {Object} [sortObj] A sort object which can sort the visible set\n     */\n\n  }, {\n    key: \"filter\",\n    value: function filter(category, sortObj) {\n      if (!this.isEnabled) {\n        return;\n      }\n\n      if (!category || category && category.length === 0) {\n        category = Shuffle.ALL_ITEMS; // eslint-disable-line no-param-reassign\n      }\n\n      this._filter(category); // Shrink each hidden item\n\n\n      this._shrink(); // How many visible elements?\n\n\n      this._updateItemCount(); // Update transforms on visible elements so they will animate to their new positions.\n\n\n      this.sort(sortObj);\n    }\n    /**\n     * Gets the visible elements, sorts them, and passes them to layout.\n     * @param {Object} [sortOptions] The options object to pass to `sorter`.\n     */\n\n  }, {\n    key: \"sort\",\n    value: function sort() {\n      var sortOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.lastSort;\n\n      if (!this.isEnabled) {\n        return;\n      }\n\n      this._resetCols();\n\n      var items = sorter(this._getFilteredItems(), sortOptions);\n\n      this._layout(items); // `_layout` always happens after `_shrink`, so it's safe to process the style\n      // queue here with styles from the shrink method.\n\n\n      this._processQueue(); // Adjust the height of the container.\n\n\n      this._setContainerSize();\n\n      this.lastSort = sortOptions;\n    }\n    /**\n     * Reposition everything.\n     * @param {boolean} [isOnlyLayout=false] If true, column and gutter widths won't be recalculated.\n     */\n\n  }, {\n    key: \"update\",\n    value: function update() {\n      var isOnlyLayout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (this.isEnabled) {\n        if (!isOnlyLayout) {\n          // Get updated colCount\n          this._setColumns();\n        } // Layout items\n\n\n        this.sort();\n      }\n    }\n    /**\n     * Use this instead of `update()` if you don't need the columns and gutters updated\n     * Maybe an image inside `shuffle` loaded (and now has a height), which means calculations\n     * could be off.\n     */\n\n  }, {\n    key: \"layout\",\n    value: function layout() {\n      this.update(true);\n    }\n    /**\n     * New items have been appended to shuffle. Mix them in with the current\n     * filter or sort status.\n     * @param {Element[]} newItems Collection of new items.\n     */\n\n  }, {\n    key: \"add\",\n    value: function add(newItems) {\n      var _this9 = this;\n\n      var items = arrayUnique(newItems).map(function (el) {\n        return new ShuffleItem(el);\n      }); // Add classes and set initial positions.\n\n      this._initItems(items); // Determine which items will go with the current filter.\n\n\n      this._resetCols();\n\n      var allItems = this._mergeNewItems(items);\n\n      var sortedItems = sorter(allItems, this.lastSort);\n\n      var allSortedItemsSet = this._filter(this.lastFilter, sortedItems);\n\n      var isNewItem = function isNewItem(item) {\n        return items.includes(item);\n      };\n\n      var applyHiddenState = function applyHiddenState(item) {\n        item.scale = ShuffleItem.Scale.HIDDEN;\n        item.isHidden = true;\n        item.applyCss(ShuffleItem.Css.HIDDEN.before);\n        item.applyCss(ShuffleItem.Css.HIDDEN.after);\n      }; // Layout all items again so that new items get positions.\n      // Synchonously apply positions.\n\n\n      var itemPositions = this._getNextPositions(allSortedItemsSet.visible);\n\n      allSortedItemsSet.visible.forEach(function (item, i) {\n        if (isNewItem(item)) {\n          item.point = itemPositions[i];\n          applyHiddenState(item);\n          item.applyCss(_this9.getStylesForTransition(item, {}));\n        }\n      });\n      allSortedItemsSet.hidden.forEach(function (item) {\n        if (isNewItem(item)) {\n          applyHiddenState(item);\n        }\n      }); // Cause layout so that the styles above are applied.\n\n      this.element.offsetWidth; // eslint-disable-line no-unused-expressions\n      // Add transition to each item.\n\n      this.setItemTransitions(items); // Update the list of items.\n\n      this.items = this._mergeNewItems(items); // Update layout/visibility of new and old items.\n\n      this.filter(this.lastFilter);\n    }\n    /**\n     * Disables shuffle from updating dimensions and layout on resize\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.isEnabled = false;\n    }\n    /**\n     * Enables shuffle again\n     * @param {boolean} [isUpdateLayout=true] if undefined, shuffle will update columns and gutters\n     */\n\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var isUpdateLayout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      this.isEnabled = true;\n\n      if (isUpdateLayout) {\n        this.update();\n      }\n    }\n    /**\n     * Remove 1 or more shuffle items.\n     * @param {Element[]} elements An array containing one or more\n     *     elements in shuffle\n     * @return {Shuffle} The shuffle instance.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(elements) {\n      var _this10 = this;\n\n      if (!elements.length) {\n        return;\n      }\n\n      var collection = arrayUnique(elements);\n      var oldItems = collection.map(function (element) {\n        return _this10.getItemByElement(element);\n      }).filter(function (item) {\n        return !!item;\n      });\n\n      var handleLayout = function handleLayout() {\n        _this10._disposeItems(oldItems); // Remove the collection in the callback\n\n\n        collection.forEach(function (element) {\n          element.parentNode.removeChild(element);\n        });\n\n        _this10._dispatch(Shuffle.EventType.REMOVED, {\n          collection: collection\n        });\n      }; // Hide collection first.\n\n\n      this._toggleFilterClasses({\n        visible: [],\n        hidden: oldItems\n      });\n\n      this._shrink(oldItems);\n\n      this.sort(); // Update the list of items here because `remove` could be called again\n      // with an item that is in the process of being removed.\n\n      this.items = this.items.filter(function (item) {\n        return !oldItems.includes(item);\n      });\n\n      this._updateItemCount();\n\n      this.once(Shuffle.EventType.LAYOUT, handleLayout);\n    }\n    /**\n     * Retrieve a shuffle item by its element.\n     * @param {Element} element Element to look for.\n     * @return {?ShuffleItem} A shuffle item or undefined if it's not found.\n     */\n\n  }, {\n    key: \"getItemByElement\",\n    value: function getItemByElement(element) {\n      return this.items.find(function (item) {\n        return item.element === element;\n      });\n    }\n    /**\n     * Dump the elements currently stored and reinitialize all child elements which\n     * match the `itemSelector`.\n     */\n\n  }, {\n    key: \"resetItems\",\n    value: function resetItems() {\n      var _this11 = this;\n\n      // Remove refs to current items.\n      this._disposeItems(this.items);\n\n      this.isInitialized = false; // Find new items in the DOM.\n\n      this.items = this._getItems(); // Set initial styles on the new items.\n\n      this._initItems(this.items);\n\n      this.once(Shuffle.EventType.LAYOUT, function () {\n        // Add transition to each item.\n        _this11.setItemTransitions(_this11.items);\n\n        _this11.isInitialized = true;\n      }); // Lay out all items.\n\n      this.filter(this.lastFilter);\n    }\n    /**\n     * Destroys shuffle, removes events, styles, and classes\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._cancelMovement();\n\n      window.removeEventListener('resize', this._onResize); // Reset container styles\n\n      this.element.classList.remove('shuffle');\n      this.element.removeAttribute('style'); // Reset individual item styles\n\n      this._disposeItems(this.items);\n\n      this.items.length = 0;\n      this._transitions.length = 0; // Null DOM references\n\n      this.options.sizer = null;\n      this.element = null; // Set a flag so if a debounced resize has been triggered,\n      // it can first check if it is actually isDestroyed and not doing anything\n\n      this.isDestroyed = true;\n      this.isEnabled = false;\n    }\n    /**\n     * Returns the outer width of an element, optionally including its margins.\n     *\n     * There are a few different methods for getting the width of an element, none of\n     * which work perfectly for all Shuffle's use cases.\n     *\n     * 1. getBoundingClientRect() `left` and `right` properties.\n     *   - Accounts for transform scaled elements, making it useless for Shuffle\n     *   elements which have shrunk.\n     * 2. The `offsetWidth` property.\n     *   - This value stays the same regardless of the elements transform property,\n     *   however, it does not return subpixel values.\n     * 3. getComputedStyle()\n     *   - This works great Chrome, Firefox, Safari, but IE<=11 does not include\n     *   padding and border when box-sizing: border-box is set, requiring a feature\n     *   test and extra work to add the padding back for IE and other browsers which\n     *   follow the W3C spec here.\n     *\n     * @param {Element} element The element.\n     * @param {boolean} [includeMargins=false] Whether to include margins.\n     * @return {{width: number, height: number}} The width and height.\n     */\n\n  }], [{\n    key: \"getSize\",\n    value: function getSize(element) {\n      var includeMargins = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      // Store the styles so that they can be used by others without asking for it again.\n      var styles = window.getComputedStyle(element, null);\n      var width = getNumberStyle(element, 'width', styles);\n      var height = getNumberStyle(element, 'height', styles);\n\n      if (includeMargins) {\n        var marginLeft = getNumberStyle(element, 'marginLeft', styles);\n        var marginRight = getNumberStyle(element, 'marginRight', styles);\n        var marginTop = getNumberStyle(element, 'marginTop', styles);\n        var marginBottom = getNumberStyle(element, 'marginBottom', styles);\n        width += marginLeft + marginRight;\n        height += marginTop + marginBottom;\n      }\n\n      return {\n        width: width,\n        height: height\n      };\n    }\n    /**\n     * Change a property or execute a function which will not have a transition\n     * @param {Element[]} elements DOM elements that won't be transitioned.\n     * @param {function} callback A function which will be called while transition\n     *     is set to 0ms.\n     * @private\n     */\n\n  }, {\n    key: \"_skipTransitions\",\n    value: function _skipTransitions(elements, callback) {\n      var zero = '0ms'; // Save current duration and delay.\n\n      var data = elements.map(function (element) {\n        var style = element.style;\n        var duration = style.transitionDuration;\n        var delay = style.transitionDelay; // Set the duration to zero so it happens immediately\n\n        style.transitionDuration = zero;\n        style.transitionDelay = zero;\n        return {\n          duration: duration,\n          delay: delay\n        };\n      });\n      callback(); // Cause forced synchronous layout.\n\n      elements[0].offsetWidth; // eslint-disable-line no-unused-expressions\n      // Put the duration back\n\n      elements.forEach(function (element, i) {\n        element.style.transitionDuration = data[i].duration;\n        element.style.transitionDelay = data[i].delay;\n      });\n    }\n  }]);\n\n  return Shuffle;\n}(tinyEmitter);\n\nShuffle.ShuffleItem = ShuffleItem;\nShuffle.ALL_ITEMS = 'all';\nShuffle.FILTER_ATTRIBUTE_KEY = 'groups';\n/** @enum {string} */\n\nShuffle.EventType = {\n  LAYOUT: 'shuffle:layout',\n  REMOVED: 'shuffle:removed'\n};\n/** @enum {string} */\n\nShuffle.Classes = Classes;\n/** @enum {string} */\n\nShuffle.FilterMode = {\n  ANY: 'any',\n  ALL: 'all'\n}; // Overrideable options\n\nShuffle.options = {\n  // Initial filter group.\n  group: Shuffle.ALL_ITEMS,\n  // Transition/animation speed (milliseconds).\n  speed: 250,\n  // CSS easing function to use.\n  easing: 'cubic-bezier(0.4, 0.0, 0.2, 1)',\n  // e.g. '.picture-item'.\n  itemSelector: '*',\n  // Element or selector string. Use an element to determine the size of columns\n  // and gutters.\n  sizer: null,\n  // A static number or function that tells the plugin how wide the gutters\n  // between columns are (in pixels).\n  gutterWidth: 0,\n  // A static number or function that returns a number which tells the plugin\n  // how wide the columns are (in pixels).\n  columnWidth: 0,\n  // If your group is not json, and is comma delimeted, you could set delimiter\n  // to ','.\n  delimiter: null,\n  // Useful for percentage based heights when they might not always be exactly\n  // the same (in pixels).\n  buffer: 0,\n  // Reading the width of elements isn't precise enough and can cause columns to\n  // jump between values.\n  columnThreshold: 0.01,\n  // Shuffle can be isInitialized with a sort object. It is the same object\n  // given to the sort method.\n  initialSort: null,\n  // By default, shuffle will throttle resize events. This can be changed or\n  // removed.\n  throttle: throttleit,\n  // How often shuffle can be called on resize (in milliseconds).\n  throttleTime: 300,\n  // Transition delay offset for each item in milliseconds.\n  staggerAmount: 15,\n  // Maximum stagger delay in milliseconds.\n  staggerAmountMax: 150,\n  // Whether to use transforms or absolute positioning.\n  useTransforms: true,\n  // Affects using an array with filter. e.g. `filter(['one', 'two'])`. With \"any\",\n  // the element passes the test if any of its groups are in the array. With \"all\",\n  // the element only passes if all groups are in the array.\n  filterMode: Shuffle.FilterMode.ANY,\n  // Attempt to center grid items in each row.\n  isCentered: false,\n  // Whether to round pixel values used in translate(x, y). This usually avoids\n  // blurriness.\n  roundTransforms: true\n};\nShuffle.Point = Point;\nShuffle.Rect = Rect; // Expose for testing. Hack at your own risk.\n\nShuffle.__sorter = sorter;\nShuffle.__getColumnSpan = getColumnSpan;\nShuffle.__getAvailablePositions = getAvailablePositions;\nShuffle.__getShortColumn = getShortColumn;\nShuffle.__getCenteredPositions = getCenteredPositions;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Shuffle);\n//# sourceMappingURL=shuffle.esm.js.map\n\n\n//# sourceURL=webpack:///./node_modules/shufflejs/dist/shuffle.esm.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/modules/filtering.js":
/*!*********************************************************!*\
  !*** ./src/assets/toolkit/scripts/modules/filtering.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var shufflejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! shufflejs */ \"./node_modules/shufflejs/dist/shuffle.esm.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Import 3rd party dependencies\n\n/**\n * A module for uniform way to filter out a list of items based on given rules\n *\n * @requires jQuery - external jQuery 1.8+\n */\n\nvar filteringService = function GetFilteringService() {\n  if (window.toolkitFiltering) {\n    // Available already - do not initialise again!\n    return window.toolkitFiltering;\n  }\n  /** PRIVATE MODULE FUNCTIONS */\n\n  /**\n   * Alter `Shuffle.js` CSS to match the Toolkit UI.\n   */\n\n\n  function normaliseShuffleCss() {\n    shufflejs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ShuffleItem.Css.INITIAL = {\n      'display': 'block',\n      'will-change': 'transform'\n    };\n    shufflejs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ShuffleItem.Css.VISIBLE = {\n      before: {\n        opacity: 1,\n        visibility: 'visible',\n        display: 'block'\n      },\n      after: {\n        transitionDelay: ''\n      }\n    };\n    shufflejs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ShuffleItem.Css.HIDDEN = {\n      before: {\n        opacity: 0,\n        display: 'none'\n      },\n      after: {\n        visibility: 'hidden',\n        transitionDelay: ''\n      }\n    };\n  }\n  /** INLINE CLASSES. */\n\n  /**\n   * Simple wrapper around `Shuffle.js` (https://vestride.github.io/Shuffle/),\n   * adding useful extensions to make filtering items more sane.\n   *\n   * @typedef {Class} Filterator\n   *\n   * @property {function} refresh\n   * @property {function} filter\n   * @property {function} addFilteringRule\n   * @property {function} removeFilteringRule\n   * @property {function} clearFilteringRules\n   */\n\n\n  var Filterator =\n  /*#__PURE__*/\n  function () {\n    /**\n     * @param {string} wrapperSelector\n     * @param {string} itemSelector\n     * @param {Array<RuleFunction>|undefined} filteringRuleFunctions - (Optional)\n     * @param {Object} model - (Optional)\n     *\n     * @memberof Filterator\n     */\n    function Filterator(wrapperSelector, itemSelector, filteringRuleFunctions, model) // config,\n    {\n      _classCallCheck(this, Filterator);\n\n      this._wrapperSelector = wrapperSelector;\n      this._itemSelector = itemSelector;\n      this._filteringRuleFunctions = filteringRuleFunctions || [];\n      this._model = model || {}; // this._config = config;\n\n      this._initShuffler();\n    }\n    /** PUBLIC METHODS */\n\n    /**\n     * If any of the original elements (either wrapper or any of items)\n     * were removed from DOM and re-created, calling this rebuilds the\n     * Filterer's internal references.\n     *\n     * FIXME: Optimise by *NOT* re-creating this.shuffler.\n     */\n\n\n    _createClass(Filterator, [{\n      key: \"refresh\",\n      value: function refresh() {\n        this._initShuffler();\n      }\n      /**\n       * Performs filtering by showing only items that match\n       * **all the rules** defined in `this._filteringRuleFunctions`.\n       */\n\n    }, {\n      key: \"filter\",\n      value: function filter() {\n        var _this = this;\n\n        if (!this._shuffler) return; // Do nothing if there's no shuffler available.\n\n        this._shuffler.filter(function (element, shuffle) {\n          // ADDITIVE strategy => All must pass to be shown\n          return _this._filteringRuleFunctions.every(function (ruleFn) {\n            return ruleFn(element, shuffle, _this._model);\n          });\n        });\n      }\n      /**\n       * Add a new rule-checking function to the Filterer.\n       *\n       * @param {RuleFunction} filteringRuleFn\n       *  - Custom validation function that returns true or false.\n       */\n\n    }, {\n      key: \"addFilteringRule\",\n      value: function addFilteringRule(filteringRuleFn) {\n        this._filteringRuleFunctions.push(filteringRuleFn);\n      }\n      /**\n       * Removes rule-checking function from the Filterer (if exists).\n       *\n       * @param {RuleFunction} filteringRuleFn\n       *  - Custom validation function that returns true or false.\n       */\n\n    }, {\n      key: \"removeFilteringRule\",\n      value: function removeFilteringRule(filteringRuleFn) {\n        var index = this._filteringRuleFunctions.indexOf(filteringRuleFn);\n\n        if (index !== -1) this._filteringRuleFunctions.splice(index, 1);\n      }\n      /**\n       * Removes all rule-checking functions from the Filterer.\n       */\n\n    }, {\n      key: \"clearFilteringRules\",\n      value: function clearFilteringRules() {\n        this._filteringRuleFunctions = [];\n      }\n      /** PRIVATE FUNCTIONS */\n\n    }, {\n      key: \"_initShuffler\",\n      value: function _initShuffler() {\n        var wrapperElement = document.querySelector(this._wrapperSelector);\n\n        if (wrapperElement) {\n          // Options at https://vestride.github.io/Shuffle/#options\n          this._shuffler = new shufflejs__WEBPACK_IMPORTED_MODULE_0__[\"default\"](document.querySelector(this._wrapperSelector), {\n            itemSelector: this._itemSelector,\n            useTransforms: false\n          });\n        } else {\n          this._shuffler = null;\n        }\n      }\n    }]);\n\n    return Filterator;\n  }();\n  /** MODULE INITIALISATION */\n\n\n  (function init() {\n    normaliseShuffleCss();\n  })();\n  /** CONSTRUCTOR. */\n\n  /**\n  * Validates the passed parameters and all checks pass, creates new instance\n  * of filtering service.\n  *\n  * @param {string} wrapperSelector\n  * @param {string} itemSelector\n  * @param {Array<RuleFunction>|undefined} filteringRuleFunctions\n  * @param {Object} model\n  * @param {Object} CONFIG\n  *\n  * @returns {Filterator}\n  */\n\n\n  function createFilterator(wrapperSelector, itemSelector, filteringRuleFunctions, model, CONFIG) {\n    if (!wrapperSelector || !itemSelector) {\n      // Required attributes\n      console.error('First two parameters `wrapperSelector` and `itemSelector` are required to initialise a new instance of Filtering service.');\n      return null;\n    }\n\n    return new Filterator(wrapperSelector, itemSelector, filteringRuleFunctions, model, CONFIG);\n  }\n  /** SERVICE FACTORY */\n\n\n  var serviceFactory = createFilterator; // A) Make available for vanilla JS\n\n  window.toolkitFiltering = serviceFactory; // B) Return the Service function\n\n  return serviceFactory;\n}(); // Make the Factory available for Modular JS codebases\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (filteringService);\n/** DOCUMENTATION REFERENCES */\n\n/**\n * Custom hook function that checks/verifies passed item.\n *\n * @typedef {function} RuleFunction\n *\n * @param {Element} element - DOM Element of the item that's being checked.\n * @param {Shuffle} shuffler - Allows access to the {Shuffle}'s features.\n * @param {Object} model - Data change model.\n *\n * @returns {boolean} - Whether or not given `element` passes the validation.\n */\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/modules/filtering.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/modules/toolbar.js":
/*!*******************************************************!*\
  !*** ./src/assets/toolkit/scripts/modules/toolbar.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n/* harmony import */ var _urls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./urls */ \"./src/assets/toolkit/scripts/modules/urls.js\");\n/* harmony import */ var _filtering__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./filtering */ \"./src/assets/toolkit/scripts/modules/filtering.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/helpers */ \"./src/assets/toolkit/scripts/utils/helpers.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* global localStorage */\n\n/* global $ */\n// 3rd party libs\n // Standalone libraries\n\n\n // Helpers\n\n // API interface\n\nvar toolbarApi = window.toolkitToolbar || {};\n/**\n * A module providing popup dialogs with tools.\n *\n * @requires jQuery - external jQuery 1.8+\n * @requires localStorage - global localStorage\n */\n\n(function ToolbarManager() {\n  if (window.toolkitToolbar) {\n    // Available already - do not initialise again!\n    return;\n  }\n\n  window.toolkitToolbar = toolbarApi; // Import for a global access\n\n  /** @constant */\n  // Default copy\n\n  var TEXTS = {\n    TITLE: 'Toolbar',\n    BUTTON_CLOSE_TITLE: 'Close the toolbar',\n    SEARCH_OK_LABEL: 'Ok',\n    SEARCH_INPUT_PLACEHOLDER: 'Search for a tool...',\n    SEARCH_INPUT_ARIA_LABEL: 'Type to filter out tools:',\n    TITLE_FAVOURITES: 'My favourite',\n    TITLE_DEFAULTS: 'Tools and applications',\n    BUTTON_FAVOURITE_REMOVE_TITLE: 'Remove from favourites',\n    BUTTON_FAVOURITE_ADD_TITLE: 'Add to favourites'\n  },\n      OLD_STORAGE_KEY = 'favouriteTools',\n      LOCAL_STORAGE_POSTFIX = 'favourites',\n      CLASS_BLOCK_FAVOURITES = 'group-favourite',\n      CLASS_BLOCK_DEFAULTS = 'group-others',\n      ICON_DEFAULT = {\n    colour: null,\n    className: 'layout'\n  },\n      TEMPLATE_ICON_SSO = '<span class=\"microtag\" title=\"Supports Single-Sign-on functionality\"><svg class=\"logo-icon key\"><use xlink:href=\"#icon-key\"></use></svg></span>',\n      TEMPLATE_TOOLBARS_CONTAINER = '<div id=\"tb\" class=\"toolbars-container\"></div>',\n      SELECTOR_TOOLBAR_CONTENT = '.dialog-content .centraliser',\n      SVG_ICONS = \"\\n    <svg style=\\\"position: absolute; width: 0; height: 0; overflow: hidden\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n    <defs>\\n      <symbol id=\\\"icon-key\\\" viewBox=\\\"0 0 25 32\\\">\\n        <title>key</title>\\n        <path d=\\\"M24.768 7.616q0.64 3.712-0.896 6.88t-4.8 3.744q-2.112 0.384-4.16 0.064l-3.776 6.208-2.24 0.384-3.328 5.312q-0.448 0.896-1.472 1.024l-2.432 0.448q-0.384 0.128-0.704-0.128t-0.384-0.704l-0.512-3.136q-0.256-0.96 0.384-1.792l8.256-12.352q-0.768-1.6-1.216-3.84-0.576-3.392 1.696-5.984t5.92-3.232q3.392-0.64 6.24 1.44t3.424 5.664zM20.736 10.048q0.96-1.408 0.672-3.104t-1.632-2.656q-1.344-1.024-2.944-0.704t-2.56 1.728q-0.256 0.384-0.384 0.736t-0.032 0.64 0.16 0.512 0.416 0.544 0.576 0.48 0.704 0.512 0.736 0.544q0.192 0.128 0.704 0.512t0.736 0.512 0.608 0.384 0.608 0.256 0.544-0.032 0.576-0.256 0.512-0.608z\\\"></path>\\n      </symbol>\\n      <symbol id=\\\"icon-outlook\\\" viewBox=\\\"0 0 34 32\\\">\\n        <title>OfficeCore10_32x_24x_20x_16x_01-22-2019</title>\\n\\n        <g id=\\\"STYLE_COLOR\\\" data-name=\\\"STYLE = COLOR\\\">\\n          <path d=\\\"M28.59554,2H11.404A1.404,1.404,0,0,0,10,3.40407L10,5l9.69,3L29.99961,5v-1.596A1.40405,1.40405,0,0,0,28.59554,2Z\\\" fill=\\\"#0364b8\\\"/>\\n          <path d=\\\"M31.6499,17.40548A11.34148,11.34148,0,0,0,32,16.00043a.66592.66592,0,0,0-.33331-.57679v-.00048l-.01282-.00727-.004-.00225L20.81213,9.2395a1.49877,1.49877,0,0,0-.14532-.08276V9.15668a1.5003,1.5003,0,0,0-1.33331,0l-.00006.00006a1.49088,1.49088,0,0,0-.14527.08276L8.3504,15.41364l-.004.00225-.01275.00727v.00048a.666.666,0,0,0-.33331.57679,11.34354,11.34354,0,0,0,.35009,1.405l11.49171,8.405Z\\\" fill=\\\"#0a2767\\\"/>\\n          <polygon points=\\\"24 5 17 5 14.979 8 17 11 24 17 30 17 30 11 24 5\\\" fill=\\\"#28a8ea\\\"/>\\n          <rect x=\\\"10\\\" y=\\\"5\\\" width=\\\"6.99985\\\" height=\\\"5.99999\\\" fill=\\\"#0078d4\\\"/>\\n          <rect x=\\\"23.99969\\\" y=\\\"5\\\" width=\\\"5.99992\\\" height=\\\"5.99997\\\" fill=\\\"#50d9ff\\\"/>\\n          <polygon points=\\\"24 17 17 11 10 11 10 17 17 23 27.832 24.768 24 17\\\" fill=\\\"#0364b8\\\"/>\\n          <line x1=\\\"10.03118\\\" y1=\\\"5.00001\\\" x2=\\\"29.99961\\\" y2=\\\"5\\\" fill=\\\"none\\\"/>\\n          <rect x=\\\"16.99971\\\" y=\\\"11\\\" width=\\\"7.00001\\\" height=\\\"5.99999\\\" fill=\\\"#0078d4\\\"/>\\n          <rect x=\\\"10\\\" y=\\\"17\\\" width=\\\"6.99978\\\" height=\\\"6\\\" fill=\\\"#064a8c\\\"/>\\n          <rect x=\\\"23.99973\\\" y=\\\"17\\\" width=\\\"5.99992\\\" height=\\\"6\\\" fill=\\\"#0078d4\\\"/>\\n          <path d=\\\"M20.19093,25.21763,8.39736,16.61718,8.8915,15.748s10.745,6.12012,10.90905,6.21191a.5285.5285,0,0,0,.4209-.0122c.15332-.08643,10.93249-6.23,10.93249-6.23l.49609.86914Z\\\" fill=\\\"#0a2767\\\" opacity=\\\"0.5\\\"/>\\n          <path d=\\\"M31.66669,16.57678v.00049l-.01325.00757-.00335.00189-10.838,6.1742a1.49672,1.49672,0,0,1-1.46045.09118L23.12632,27.913,31.38037,29.71l-.0003.00446A1.49756,1.49756,0,0,0,32,28.5V16.00006A.666.666,0,0,1,31.66669,16.57678Z\\\" fill=\\\"#1490df\\\"/>\\n          <path d=\\\"M32,28.5v-.738l-9.98291-5.68756-1.205.68647a1.49685,1.49685,0,0,1-1.46045.09118L23.12634,27.913l8.254,1.79694-.0003.00446A1.49756,1.49756,0,0,0,32,28.5Z\\\" opacity=\\\"0.05\\\"/>\\n          <path d=\\\"M31.95,28.88342,21.00708,22.64984l-.19495.11109a1.49685,1.49685,0,0,1-1.46045.09118L23.12634,27.913l8.254,1.79694-.0003.00446A1.50132,1.50132,0,0,0,31.95,28.88342Z\\\" opacity=\\\"0.1\\\"/>\\n          <path d=\\\"M8.35,16.59v-.01H8.34l-.03-.02A.65068.65068,0,0,1,8,16V28.5A1.498,1.498,0,0,0,9.5,30h21a1.50264,1.50264,0,0,0,.37-.05.63693.63693,0,0,0,.18-.06.14177.14177,0,0,0,.06-.02,1.04752,1.04752,0,0,0,.23-.13c.02-.01.03-.01.04-.03Z\\\" fill=\\\"#28a8ea\\\"/>\\n          <path d=\\\"M18,24.66663V8.33331A1.33727,1.33727,0,0,0,16.66663,7h-6.6355v4h.00006v3.456l-1.68085.95759-.004.00225-.01281.00727v.00048a.66591.66591,0,0,0-.33332.57679l.00019.00421L8,16.001V26h8.66663A1.33732,1.33732,0,0,0,18,24.66663Z\\\" opacity=\\\"0.1\\\"/>\\n          <path d=\\\"M17,25.66663V9.33331A1.33727,1.33727,0,0,0,15.66663,8h-5.6355v3h.00006v3.456l-1.68085.95759-.004.00225-.01281.00727v.00048a.66591.66591,0,0,0-.33332.57679l.00019.00421L8,16.001V27h7.66663A1.33732,1.33732,0,0,0,17,25.66663Z\\\" opacity=\\\"0.2\\\"/>\\n          <path d=\\\"M17,23.66663V9.33331A1.33727,1.33727,0,0,0,15.66663,8h-5.6355v3h.00006v3.456l-1.68085.95759-.004.00225-.01281.00727v.00048a.66591.66591,0,0,0-.33332.57679l.00019.00421L8,16.001V25h7.66663A1.33732,1.33732,0,0,0,17,23.66663Z\\\" opacity=\\\"0.2\\\"/>\\n          <path d=\\\"M16,23.66663V9.33331A1.33727,1.33727,0,0,0,14.66663,8h-4.6355v3h.00006v3.456l-1.68085.95759-.004.00225-.01281.00727v.00048a.66591.66591,0,0,0-.33332.57679l.00019.00421L8,16.001V25h6.66663A1.33732,1.33732,0,0,0,16,23.66663Z\\\" opacity=\\\"0.2\\\"/>\\n          <path id=\\\"Back_Plate\\\" data-name=\\\"Back Plate\\\" d=\\\"M1.33348,8H14.66668A1.33332,1.33332,0,0,1,16,9.33332V22.66666A1.33333,1.33333,0,0,1,14.66667,24H1.33347A1.33332,1.33332,0,0,1,.00015,22.66667V9.33333A1.33333,1.33333,0,0,1,1.33348,8Z\\\" fill=\\\"#0078d4\\\"/>\\n          <path d=\\\"M3.86661,13.468a4.18142,4.18142,0,0,1,1.64192-1.8139A4.9652,4.9652,0,0,1,8.11808,11a4.61691,4.61691,0,0,1,2.414.62036,4.13906,4.13906,0,0,1,1.59809,1.733,5.59694,5.59694,0,0,1,.55967,2.54889,5.90136,5.90136,0,0,1-.57653,2.66689A4.239,4.239,0,0,1,10.468,20.36277,4.79917,4.79917,0,0,1,7.963,21a4.72864,4.72864,0,0,1-2.46794-.62711,4.20422,4.20422,0,0,1-1.61833-1.73635A5.4589,5.4589,0,0,1,3.31031,16.118,6.05522,6.05522,0,0,1,3.86661,13.468Zm1.74981,4.25826a2.71627,2.71627,0,0,0,.92379,1.19352,2.41142,2.41142,0,0,0,1.443.43493A2.533,2.533,0,0,0,9.524,18.90627a2.60284,2.60284,0,0,0,.89682-1.1969,4.62569,4.62569,0,0,0,.28658-1.66554,5.06271,5.06271,0,0,0-.26972-1.68578,2.6687,2.6687,0,0,0-.86648-1.24073,2.3873,2.3873,0,0,0-1.52729-.472,2.493,2.493,0,0,0-1.47672.4383,2.741,2.741,0,0,0-.944,1.20364,4.77582,4.77582,0,0,0-.00674,3.439Z\\\" fill=\\\"#fff\\\"/>\\n          <rect x=\\\"0.00002\\\" width=\\\"32\\\" height=\\\"32\\\" fill=\\\"none\\\"/>\\n        </g>\\n      </symbol>\\n      <symbol id=\\\"icon-onedrive\\\" viewBox=\\\"0 0 40 32\\\">\\n        <title>OfficeCore10_32x_24x_20x_16x_01-22-2019</title><g id=\\\"STYLE_COLOR\\\" data-name=\\\"STYLE = COLOR\\\">\\n        <path d=\\\"M12.20245,11.19292l.00031-.0011,6.71765,4.02379,4.00293-1.68451.00018.00068A6.4768,6.4768,0,0,1,25.5,13c.14764,0,.29358.0067.43878.01639a10.00075,10.00075,0,0,0-18.041-3.01381C7.932,10.00215,7.9657,10,8,10A7.96073,7.96073,0,0,1,12.20245,11.19292Z\\\" fill=\\\"#0364b8\\\"/><path d=\\\"M12.20276,11.19182l-.00031.0011A7.96073,7.96073,0,0,0,8,10c-.0343,0-.06805.00215-.10223.00258A7.99676,7.99676,0,0,0,1.43732,22.57277l5.924-2.49292,2.63342-1.10819,5.86353-2.46746,3.06213-1.28859Z\\\" fill=\\\"#0078d4\\\"/><path d=\\\"M25.93878,13.01639C25.79358,13.0067,25.64764,13,25.5,13a6.4768,6.4768,0,0,0-2.57648.53178l-.00018-.00068-4.00293,1.68451,1.16077.69528L23.88611,18.19l1.66009.99438,5.67633,3.40007a6.5002,6.5002,0,0,0-5.28375-9.56805Z\\\" fill=\\\"#1490df\\\"/><path d=\\\"M25.5462,19.18437,23.88611,18.19l-3.80493-2.2791-1.16077-.69528L15.85828,16.5042,9.99475,18.97166,7.36133,20.07985l-5.924,2.49292A7.98889,7.98889,0,0,0,8,26H25.5a6.49837,6.49837,0,0,0,5.72253-3.41556Z\\\" fill=\\\"#28a8ea\\\"/></g>\\n        </symbol>\\n      <symbol id=\\\"icon-yammer\\\" viewBox=\\\"0 0 37 32\\\">\\n        <title>OfficeCore10_32x_24x_20x_16x_01-22-2019</title><g id=\\\"STYLE_COLOR\\\" data-name=\\\"STYLE = COLOR\\\"><path d=\\\"M11.55018,9.71687a.4163.4163,0,0,1-.05679-.49349.41.41,0,0,1,.06324-.08307L20.085.59887a.83408.83408,0,0,1,1.20252.02354,22.62072,22.62072,0,0,1,5.2527,9.54509l0,.00006L21.37806,16,13.701,13.596a9.25859,9.25859,0,0,0-2.15081-3.87913Z\\\" fill=\\\"#28a8ea\\\"/><path d=\\\"M30.62719,9.96175A.832.832,0,0,0,29.60149,9.35L13.69967,13.59747a9.37875,9.37875,0,0,1,.00309,4.8345l5.30344,6.60672L26.555,21.88657l3.04229.81775a.832.832,0,0,0,1.02687-.611A26.868,26.868,0,0,0,30.62719,9.96175Z\\\" fill=\\\"#0078d4\\\"/><path d=\\\"M13.70282,18.43177a9.26173,9.26173,0,0,1-2.1295,3.87451.417.417,0,0,0,.00614.58365l8.525,8.51191a.8335.8335,0,0,0,1.19983-.02262,22.54982,22.54982,0,0,0,5.2509-9.49281Z\\\" fill=\\\"#0358a7\\\"/><path d=\\\"M18,24.66663V8.33331A1.33727,1.33727,0,0,0,16.66663,7h-2.994l-2.116,2.11926a.40811.40811,0,0,0-.06323.08307.41622.41622,0,0,0,.05676.49347A9.25873,9.25873,0,0,1,13.701,13.575l.00336.00018-.0047.00129a9.38226,9.38226,0,0,1,.00311,4.83447,9.21967,9.21967,0,0,1-.41467,1.20862,9.27745,9.27745,0,0,1-1.71479,2.66571.417.417,0,0,0,.00617.58368L14.71539,26h1.95124A1.33732,1.33732,0,0,0,18,24.66663Z\\\" opacity=\\\"0.1\\\"/><path d=\\\"M17,25.66663V9.33331A1.33727,1.33727,0,0,0,15.66663,8H12.67419L11.55664,9.11926a.40811.40811,0,0,0-.06323.08307.41622.41622,0,0,0,.05676.49347A9.25873,9.25873,0,0,1,13.701,13.575l.00336.00018-.0047.00129a9.38226,9.38226,0,0,1,.00311,4.83447,9.21967,9.21967,0,0,1-.41467,1.20862,9.27745,9.27745,0,0,1-1.71479,2.66571.417.417,0,0,0,.00617.58368l4.13617,4.12982A1.33727,1.33727,0,0,0,17,25.66663Z\\\" opacity=\\\"0.2\\\"/><path d=\\\"M17,23.66663V9.33331A1.33727,1.33727,0,0,0,15.66663,8H12.67419L11.55664,9.11926a.40811.40811,0,0,0-.06323.08307.41622.41622,0,0,0,.05676.49347A9.25873,9.25873,0,0,1,13.701,13.575l.00336.00018-.0047.00129a9.38226,9.38226,0,0,1,.00311,4.83447,9.21967,9.21967,0,0,1-.41467,1.20862,9.27745,9.27745,0,0,1-1.71479,2.66571.417.417,0,0,0,.00617.58368L13.71387,25h1.95276A1.33732,1.33732,0,0,0,17,23.66663Z\\\" opacity=\\\"0.2\\\"/><path d=\\\"M16,23.66663V9.33331A1.33727,1.33727,0,0,0,14.66663,8H12.67419L11.55664,9.11926a.40811.40811,0,0,0-.06323.08307.41622.41622,0,0,0,.05676.49347A9.25873,9.25873,0,0,1,13.701,13.575l.00336.00018-.0047.00129a9.38226,9.38226,0,0,1,.00311,4.83447,9.21967,9.21967,0,0,1-.41467,1.20862,9.27745,9.27745,0,0,1-1.71479,2.66571.417.417,0,0,0,.00617.58368L13.71387,25h.95276A1.33732,1.33732,0,0,0,16,23.66663Z\\\" opacity=\\\"0.2\\\"/><path id=\\\"Back_Plate\\\" data-name=\\\"Back Plate\\\" d=\\\"M1.33333,8H14.66669A1.33334,1.33334,0,0,1,16,9.33334V22.66666A1.33333,1.33333,0,0,1,14.6667,24H1.33334A1.33334,1.33334,0,0,1,0,22.66666V9.33333A1.33333,1.33333,0,0,1,1.33333,8Z\\\" fill=\\\"#0078d4\\\"/><path d=\\\"M7.82588,15.26778a3.361,3.361,0,0,1,.22316.59972H8.07a2.84446,2.84446,0,0,1,.21617-.58577l2.02264-3.8095A.88924.88924,0,0,1,11.09417,11h0a.88924.88924,0,0,1,.771,1.33223L9.06682,17.20292a.88915.88915,0,0,0-.1182.443v2.46485A.88924.88924,0,0,1,8.05938,21H7.8783a.88924.88924,0,0,1-.88924-.88924V17.675a.88928.88928,0,0,0-.11285-.43356L4.12945,12.3228A.88924.88924,0,0,1,4.90583,11h.1748a.88923.88923,0,0,1,.79012.48126Z\\\" fill=\\\"#fff\\\"/><rect width=\\\"32\\\" height=\\\"32\\\" fill=\\\"none\\\"/></g>\\n      </symbol>\\n      <symbol id=\\\"icon-forms\\\" viewBox=\\\"0 0 32 32\\\">\\n          <title>forms</title>\\n          <path d=\\\"M12 12.192l-3.424 0.064v2.912h3.424v2.24l-3.424-0.064v4.608l-1.696-0.128v-11.648l5.12-0.224v2.24zM27.488 16.864h-5.088v1.696h5.088v-1.696zM27.488 21.952h-5.088v1.696h5.088v-1.696zM28.32 4.96h-8.48v22.080h8.48q0.736-0.032 1.216-0.512t0.512-1.184v-18.688q-0.032-0.704-0.512-1.184t-1.216-0.512zM28.352 24.512h-6.816v-3.424h6.816v3.424zM28.352 19.392h-6.816v-3.392h6.816v3.392zM28.352 14.304h-6.816v-6.816h5.28l-0.64 0.864h-3.776v5.088h5.088v-2.208l0.864-1.088v4.16zM29.152 7.744l-3.808 4.864-2.336-2.656q-0.096-0.128 0.032-0.256l0.608-0.544q0.128-0.096 0.224 0.032l1.472 1.664 2.912-3.808q0.128-0.128 0.224-0.032l0.64 0.48q0.128 0.096 0.032 0.256zM1.952 5.312v21.472l16.384 2.816v-27.2z\\\"></path>\\n      </symbol>\\n      <symbol id=\\\"icon-sharepoint\\\" viewBox=\\\"0 0 33 32\\\">\\n          <title>OfficeCore10_32x_24x_20x_16x_01-22-2019</title>\\n          <g id=\\\"STYLE_COLOR\\\" data-name=\\\"STYLE = COLOR\\\"><circle cx=\\\"14.99964\\\" cy=\\\"9.5\\\" r=\\\"9.5\\\" fill=\\\"#036c70\\\"/><circle cx=\\\"23.87464\\\" cy=\\\"17.875\\\" r=\\\"8.125\\\" fill=\\\"#1a9ba1\\\"/><circle cx=\\\"15.99964\\\" cy=\\\"25.5\\\" r=\\\"6.5\\\" fill=\\\"#37c6d0\\\"/><path d=\\\"M16.66663,7H5.83276a9.50556,9.50556,0,0,0,9.16687,12c.27729,0,.55164-.01263.82288-.03589l.00537.03815A6.50007,6.50007,0,0,0,9.49963,25.5q0,.25231.019.5h7.148A1.33732,1.33732,0,0,0,18,24.66663V8.33331A1.33727,1.33727,0,0,0,16.66663,7Z\\\" opacity=\\\"0.1\\\"/><path d=\\\"M15.66663,8H5.61792a9.50509,9.50509,0,0,0,9.38171,11c.27729,0,.55164-.01263.82288-.03589l.00537.03815A6.50459,6.50459,0,0,0,9.67389,27h5.99274A1.33732,1.33732,0,0,0,17,25.66663V9.33331A1.33727,1.33727,0,0,0,15.66663,8Z\\\" opacity=\\\"0.2\\\"/><path d=\\\"M15.66663,8H5.61792a9.50509,9.50509,0,0,0,9.38171,11c.27729,0,.55164-.01263.82288-.03589l.00537.03815A6.50063,6.50063,0,0,0,9.51868,25h6.148A1.33732,1.33732,0,0,0,17,23.66663V9.33331A1.33727,1.33727,0,0,0,15.66663,8Z\\\" opacity=\\\"0.2\\\"/><path d=\\\"M14.66663,8H5.61792a9.50509,9.50509,0,0,0,9.38171,11c.27729,0,.55164-.01263.82288-.03589l.00537.03815A6.50063,6.50063,0,0,0,9.51868,25h5.148A1.33732,1.33732,0,0,0,16,23.66663V9.33331A1.33727,1.33727,0,0,0,14.66663,8Z\\\" opacity=\\\"0.2\\\"/><path id=\\\"Back_Plate\\\" data-name=\\\"Back Plate\\\" d=\\\"M1.33333,8H14.66669A1.33334,1.33334,0,0,1,16,9.33334V22.66666A1.33333,1.33333,0,0,1,14.6667,24H1.33334A1.33334,1.33334,0,0,1,0,22.66666V9.33333A1.33333,1.33333,0,0,1,1.33333,8Z\\\" fill=\\\"#03787c\\\"/><path d=\\\"M5.67039,15.82457a2.64535,2.64535,0,0,1-.82266-.86964A2.36142,2.36142,0,0,1,4.561,13.76466a2.29061,2.29061,0,0,1,.5327-1.5409,3.14167,3.14167,0,0,1,1.416-.92359A5.98158,5.98158,0,0,1,8.44506,11a7.35414,7.35414,0,0,1,2.54889.35738v1.80041a3.98617,3.98617,0,0,0-1.15307-.472,5.59553,5.59553,0,0,0-1.34862-.16183,2.92625,2.92625,0,0,0-1.38581.29321A.91071.91071,0,0,0,6.557,13.65a.84355.84355,0,0,0,.23275.59013,2.12174,2.12174,0,0,0,.62689.44831q.3948.19576,1.17678.51922a1.23212,1.23212,0,0,1,.16857.06743,9.69661,9.69661,0,0,1,1.48348.73173,2.654,2.654,0,0,1,.87661.88313,2.55808,2.55808,0,0,1,.31692,1.33187,2.48083,2.48083,0,0,1-.499,1.60485,2.78893,2.78893,0,0,1-1.33513.89683A6.04879,6.04879,0,0,1,7.70332,21a10.0284,10.0284,0,0,1-1.72275-.14161,5.91231,5.91231,0,0,1-1.3993-.40458V18.55226a4.50013,4.50013,0,0,0,1.41605.67431,5.51323,5.51323,0,0,0,1.55765.24949,2.68013,2.68013,0,0,0,1.41257-.3.94723.94723,0,0,0,.4755-.84636.90389.90389,0,0,0-.26625-.64734,2.70416,2.70416,0,0,0-.73521-.51248Q7.973,16.934,7.056,16.54956A7.85955,7.85955,0,0,1,5.67039,15.82457Z\\\" fill=\\\"#fff\\\"/><rect x=\\\"0.00003\\\" width=\\\"32\\\" height=\\\"32\\\" fill=\\\"none\\\"/>\\n          </g>\\n      </symbol>\\n      <symbol id=\\\"icon-wordonline\\\" viewBox=\\\"0 0 32 32\\\">\\n          <title>OfficeCore10_32x_24x_20x_16x_01-22-2019</title>\\n          <g id=\\\"STYLE_COLOR\\\" data-name=\\\"STYLE = COLOR\\\"><path d=\\\"M30.66665,2H9.33327A1.33332,1.33332,0,0,0,8,3.33331V9l12,3.5L32,9V3.33331A1.33333,1.33333,0,0,0,30.66665,2Z\\\" fill=\\\"#41a5ee\\\"/><polygon points=\\\"32 9 8 9 8 16 20 19.5 32 16 32 9\\\" fill=\\\"#2b7cd3\\\"/><polygon points=\\\"32 16 8 16 8 23 20 26.5 32 23 32 16\\\" fill=\\\"#185abd\\\"/><path d=\\\"M32,23H8v5.66666A1.33334,1.33334,0,0,0,9.33334,30H30.6667A1.33334,1.33334,0,0,0,32,28.66666Z\\\" fill=\\\"#103f91\\\"/><path d=\\\"M16.66665,7H8V26h8.66663A1.33732,1.33732,0,0,0,18,24.66663V8.33331A1.33727,1.33727,0,0,0,16.66665,7Z\\\" opacity=\\\"0.1\\\"/><path d=\\\"M15.66665,8H8V27h7.66663A1.33732,1.33732,0,0,0,17,25.66663V9.33331A1.33727,1.33727,0,0,0,15.66665,8Z\\\" opacity=\\\"0.2\\\"/><path d=\\\"M15.66665,8H8V25h7.66663A1.33732,1.33732,0,0,0,17,23.66663V9.33331A1.33727,1.33727,0,0,0,15.66665,8Z\\\" opacity=\\\"0.2\\\"/><path d=\\\"M14.66665,8H8V25h6.66663A1.33732,1.33732,0,0,0,16,23.66663V9.33331A1.33727,1.33727,0,0,0,14.66665,8Z\\\" opacity=\\\"0.2\\\"/><path id=\\\"Back_Plate\\\" data-name=\\\"Back Plate\\\" d=\\\"M1.33329,8H14.66666A1.33333,1.33333,0,0,1,16,9.33333V22.66666A1.33334,1.33334,0,0,1,14.66665,24H1.3333A1.33334,1.33334,0,0,1,0,22.66666V9.33333A1.33333,1.33333,0,0,1,1.33329,8Z\\\" fill=\\\"#185abd\\\"/><path id=\\\"Letter\\\" d=\\\"M11.95,21h-1.8l-2.1-6.9L5.85,21H4.05l-2-10h1.8l1.4,7,2.1-6.8h1.5l2,6.8,1.4-7h1.7Z\\\" fill=\\\"#fff\\\"/><rect x=\\\"-0.00004\\\" width=\\\"32\\\" height=\\\"32\\\" fill=\\\"none\\\"/></g>\\n      </symbol>\\n      <symbol id=\\\"icon-office365\\\" viewBox=\\\"0 0 25.434 30.364\\\">\\n          <path id=\\\"Path_6\\\" data-name=\\\"Path 6\\\" d=\\\"M2.979,6.923,19.327.826l9.075,2.6.011,25.184-9.137,2.581L3.27,25.333,19.276,27.3V5.734L8.526,8.152,8.536,23,2.979,25.176Z\\\" transform=\\\"translate(-2.979 -0.826)\\\" fill=\\\"#ea3c01\\\"/>\\n      </symbol>\\n      <symbol id=\\\"icon-enterprise\\\"  viewBox=\\\"0 0 40 40\\\">\\n        <defs></defs><title>Enterprise reporting</title><rect  width=\\\"40\\\" height=\\\"40\\\" rx=\\\"10\\\" style=\\\"fill:#f1c516;\\\"/><path d=\\\"M29.357,28.629c0-.452-.018-.8.012-1.146a.385.385,0,0,1,.25-.256,3.448,3.448,0,0,1,.62-.025,2.043,2.043,0,0,0,2.09-2.14c.009-2.41,0-4.82,0-7.23,0-1.516.005-3.032,0-4.548A2.038,2.038,0,0,0,30.189,11.1q-10.2-.014-20.395,0a2.028,2.028,0,0,0-2.123,2.153q-.009,5.889,0,11.778A2.049,2.049,0,0,0,9.781,27.2c.872.028.846.029.877.871.016.439-.146.534-.547.534A3.527,3.527,0,0,1,6.287,24.8c0-3.782.038-7.565-.014-11.347A3.637,3.637,0,0,1,10.028,9.7q9.981.084,19.964,0a3.626,3.626,0,0,1,3.735,3.717c-.046,3.878-.007,7.756-.015,11.634a3.407,3.407,0,0,1-2.655,3.423A12.362,12.362,0,0,1,29.357,28.629Z\\\"/><path d=\\\"M28.16,22.144c0,2.185,0,4.371,0,6.556a1.524,1.524,0,0,1-1.039,1.508,1.432,1.432,0,0,1-1.67-.485,2.026,2.026,0,0,1-.361-1.055c-.025-4.355-.022-8.71-.014-13.065a1.547,1.547,0,1,1,3.087.032c.006,2.17,0,4.339,0,6.509Z\\\"/><path d=\\\"M16.534,24.238c0-1.419,0-2.837,0-4.256a1.556,1.556,0,1,1,3.093,0q.006,4.3,0,8.609a1.55,1.55,0,1,1-3.087,0c0-1.45,0-2.9,0-4.352Z\\\"/><path d=\\\"M23.875,25.549c0,1.035,0,2.071,0,3.106a1.529,1.529,0,1,1-3.051.014q-.014-3.131,0-6.26a1.527,1.527,0,1,1,3.053-.014c.01,1.051,0,2.1,0,3.154Z\\\"/><path d=\\\"M15.341,26.844c0,.637.01,1.275,0,1.911a1.51,1.51,0,0,1-1.406,1.529A1.46,1.46,0,0,1,12.3,28.9c-.056-1.367-.057-2.739-.011-4.107a1.506,1.506,0,0,1,1.566-1.426,1.552,1.552,0,0,1,1.487,1.563c.008.318,0,.637,0,.955v.956Z\\\"/>\\n      </symbol>\\n      <symbol id=\\\"icon-brandkit\\\" viewBox=\\\"0 0 40 47\\\">\\n      <defs><style>.cls-1{fill:#fff;}.cls-2{fill:#0d4c38;}</style></defs><title>brandkit-mytools</title><g id=\\\"Layer_1\\\" data-name=\\\"Layer 1\\\"><rect class=\\\"cls-1\\\" x=\\\"1.201\\\" y=\\\"5.201\\\" width=\\\"37.597\\\" height=\\\"37.597\\\"/><circle class=\\\"cls-2\\\" cx=\\\"20\\\" cy=\\\"24\\\" r=\\\"17.597\\\"/></g><g id=\\\"Layer_2\\\" data-name=\\\"Layer 2\\\"><path class=\\\"cls-1\\\" d=\\\"M12.361,27.121c1-.015,1.454-.757,2.457-.786,1.077-.023,1.573.786,2.649.786s1.573-.786,2.65-.786,1.572.786,2.651.786,1.573-.807,2.649-.786c1,.024,1.447.765,2.45.786h0a26.932,26.932,0,0,1-7.763,5.3,26.663,26.663,0,0,1-8.042-5.359,1.269,1.269,0,0,0,.3.06M28.436,22l-2.654,2.684L23.119,22ZM20.3,18.964H25.6l-2.652,2.684ZM22.774,22l-2.655,2.686L17.465,22Zm-5.309-6.066h5.309l-2.655,2.68ZM17.111,22l-2.654,2.684L11.8,22Zm-2.476-3.037h5.306l-2.652,2.684ZM29.8,11.5v2.751H10.178V11.5ZM8.556,9.856V23.18c0,6.011,10.408,10.642,11.372,10.9l.262.068.249-.1c.11-.044,11.005-4.763,11.005-10.864V9.856Z\\\" transform=\\\"translate(0 4)\\\"/></g>\\n      </symbol>\\n    </defs>\\n  </svg>\";\n  /** PRIVATE MODULE MEMBERS */\n\n  /** List of active toolbar instances */\n\n  var toolbarsList = [];\n  var containerElement;\n  /** PRIVATE MODULE FUNCTIONS */\n\n  function getInitialisedToolbar(id) {\n    for (var i = 0; i < toolbarsList.length; i += 1) {\n      if (toolbarsList[i].getId() === id) return toolbarsList[i];\n    }\n\n    return null;\n  }\n\n  function migrateFavourites(id, storageKey) {\n    var oldList = JSON.parse(localStorage.getItem(OLD_STORAGE_KEY));\n\n    if (oldList != null) {\n      var newList = oldList.map(function (x) {\n        //old format eg. tool-password\n        //new format tooldbarInstanceId.password\n        return x.split(\"-\").reduce(function (acc, str, idx) {\n          return \"\".concat(id, \".\").concat(str);\n        });\n      });\n      localStorage.setItem(storageKey, JSON.stringify(newList));\n      localStorage.removeItem(OLD_STORAGE_KEY);\n    }\n  }\n\n  function getFavouritesListFromStorage(storageKey) {\n    var localStorageJsonString = localStorage.getItem(storageKey);\n\n    if (localStorageJsonString) {\n      var favouriteToolsIds = JSON.parse(localStorageJsonString) || []; // Presets exist - don't use defaults\n\n      return favouriteToolsIds;\n    }\n\n    return null;\n  }\n\n  function saveFavouritesListToStorage(storageKey, favouriteToolsList) {\n    // Serialise the favourited tools and save to the local storage\n    localStorage.setItem(storageKey, JSON.stringify(favouriteToolsList.map(function (tool) {\n      return tool.id;\n    })));\n    document.createEvent('Event').initEvent('itemInserted', true, true);\n  } // HTML TEMPLATE BUILDERS\n\n  /**\n   * Compiles HTML for a button to make an item (not) favourite.\n   *\n   * @param {boolean} isActive\n   *\n   * @return {string} HTML template string.\n   */\n\n\n  function buildFavouriteButton(isActive) {\n    return \"<a href=\\\"javascript:;\\\" title=\\\"\".concat(isActive ? TEXTS.BUTTON_FAVOURITE_REMOVE_TITLE : TEXTS.BUTTON_FAVOURITE_ADD_TITLE, \"\\\" class=\\\"btn-options toggle-favourite\\\"><span class=\\\"icon-star\\\"></span></a>\");\n  }\n  /**\n   * Compiles HTML for a button to make an item (not) favourite.\n   *\n   * @param {Object} iconData\n   * @param {boolean} hasSso - Show 'Single Sign On' (SSO) icon?\n   *\n   * @return {string} HTML template string.\n   */\n\n\n  function buildToolIcon(iconData, hasSso) {\n    var icon = iconData || ICON_DEFAULT;\n\n    if (icon.customHtml) {\n      // SVG-based icon\n      return \"\\n        \".concat(hasSso ? '<span class=\"logo-wrapper\">' : '', \"\\n          \").concat(icon.customHtml).concat(hasSso ? TEMPLATE_ICON_SSO : '', \"\\n        \").concat(hasSso ? '</span>' : '');\n    } // Font-icon based\n\n\n    return \"\\n      <span class=\\\"icon-\".concat(icon.className).concat(icon.colour ? \" colour-\".concat(icon.colour) : '', \"\\\">\\n        \").concat(hasSso ? TEMPLATE_ICON_SSO : '', \"\\n      </span>\");\n  }\n  /**\n   * Compiles HTML template for a list of tool items (<li>).\n   *\n   * @param {Array<Tool>} toolsList\n   * @param {boolean} hasFavouriteButton\n   *\n   * @return {string} HTML template string.\n   */\n\n\n  function buildToolsListItems(toolsList, hasFavouriteButton) {\n    return toolsList.map(function (tool) {\n      return \"\\n      <li class=\\\"tile\\\" id=\\\"\".concat(tool.id, \"\\\">\\n        \").concat(hasFavouriteButton ? buildFavouriteButton(tool.isFavourited) : '', \"\\n        <h3>\\n          <a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"\").concat(tool.url, \"\\\" tabindex=\\\"0\\\" title=\\\"\").concat(tool.description || tool.name, \"\\\">\\n            \").concat(buildToolIcon(tool.icon, tool.hasSso), \"\\n            <span class=\\\"title\\\"><span></span>\").concat(tool.name, \"</span>\\n          </a>\\n        </h3>\\n      </li>\");\n    }).join('');\n  }\n  /**\n   * Compiles HTML template for a group of tools.\n   *\n   * @param {string} groupClassName\n   * @param {Array<Tools>} toolsList\n   * @param {boolean} hasFavouriteButton\n   * @param {string|null} headerContentHtml - Ommited content results in\n   *    excluded header\n   *\n   * @return {string} HTML template string.\n   */\n\n\n  function buildToolGroupTemplate(groupClassName, toolsList, hasFavouriteButton, headerContentHtml) {\n    if (toolsList.length < 1) return '';\n    return \"\\n      <section class=\\\"block \".concat(groupClassName, \"\\\">\\n        \").concat(headerContentHtml ? \"<header><h2>\".concat(headerContentHtml, \"</h2></header>\") : '', \"\\n        <ul class=\\\"flex-grid\\\">\\n          \").concat(buildToolsListItems(toolsList, hasFavouriteButton), \"\\n        </ul>\\n      </section>\");\n  }\n  /**\n   * Compiles HTML template for a notification panel with info/warning/error\n   * message.\n   *\n   * @param {Object} notificationObject\n   *\n   * @return {string} HTML template string.\n   */\n\n\n  function buildNotificationTemplate(notificationObject) {\n    return \"\\n    <div class=\\\"formatting block\\\">\\n      <section class=\\\"flash-message \".concat(notificationObject.type, \"\\\">\\n        <h2>\").concat(notificationObject.title, \"</h2>\\n        \").concat(notificationObject.content ? \"<p>\".concat(notificationObject.content, \"</p>\") : '', \"\\n      </section>\\n    </div>\");\n  }\n  /**\n   * @param {string} id - Toolbar instance identifier.\n   *\n   * @return {string} - HTML template.\n   */\n\n\n  function buildSearchTemplate(id) {\n    return \"\\n    <form class=\\\"filter\\\" action=\\\"javascript:;\\\" role=\\\"search\\\">\\n      <label for=\\\"\".concat(id, \"-filter-query\\\"><span class=\\\"icon-search\\\"></span></label>\\n      <input id=\\\"\").concat(id, \"-filter-query\\\" aria-label=\\\"\").concat(TEXTS.SEARCH_INPUT_ARIA_LABEL, \"\\\" autocomplete=\\\"off\\\" incremental=\\\"incremental\\\" autocorrect=\\\"off\\\" type=\\\"search\\\" name=\\\"filter-query\\\" placeholder=\\\"\").concat(TEXTS.SEARCH_INPUT_PLACEHOLDER, \"\\\" tabindex=\\\"0\\\">\\n      <input id=\\\"filter-submit\\\" class=\\\"btn\\\" type=\\\"submit\\\" value=\\\"\").concat(TEXTS.SEARCH_OK_LABEL, \"\\\">\\n    </form>\");\n  }\n  /**\n   * @param {string} id - Toolbar instance identifier.\n   * @param {Object} config\n   * @param {Object} content - Object with custom content elements.\n   *\n   * @return {string} - HTML template.\n   */\n\n\n  function buildDialogTemplate(id, config, content) {\n    return \"\\n      <div id=\\\"\".concat(id, \"\\\" class=\\\"toolbar dialog-container\\\" data-micromodal-close  aria-hidden=\\\"true\\\">\\n        <section class=\\\"dialog\\\" role=\\\"dialog\\\" aria-modal=\\\"true\\\" aria-labelledby=\\\"\").concat(id, \"-title\\\">\\n          <header>\\n            <div class=\\\"centraliser block\\\">\\n              <div class=\\\"header\\\">\\n                <h1 id=\\\"\").concat(id, \"-title\\\">\").concat(Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"hasProp\"])(content, 'title') ? content.title : TEXTS.TITLE, \"</h1>\\n                <a href=\\\"javascript:;\\\" title=\\\"\").concat(TEXTS.BUTTON_CLOSE_TITLE, \"\\\" class=\\\"btn-close\\\" aria-label=\\\"Close modal\\\" data-micromodal-close tabindex=\\\"-1\\\" ></a>\\n\\n                \").concat(config.showSearch ? buildSearchTemplate(id) : '', \"\\n                \").concat(Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"hasProp\"])(content, 'headerHtml') ? content.headerHtml : '', \"\\n              </div>\\n            </div>\\n          </header>\\n\\n          <div class=\\\"dialog-content\\\">\\n            <div class=\\\"centraliser\\\"></div>\\n          </div>\\n\\n          <footer>\\n            <div class=\\\"centraliser block\\\">\\n              <div class=\\\"links\\\">\\n                \").concat(Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"hasProp\"])(content, 'footerHtml') ? content.footerHtml : '', \"\\n              </div>\\n            </div>\\n          </footer>\\n\\n        </section>\\n      </div>\");\n  }\n  /** INLINE CLASSES. */\n\n  /**\n   * Defines behaviour and UI of a Toolbar popup dialog.\n   *\n   * @typedef {Class} Toolbar\n   */\n\n\n  var Toolbar =\n  /*#__PURE__*/\n  function () {\n    /**\n     * @param {string} id - Unique identifier of this Toolbar instance\n     * @param {Object} config - Options to turn features on/off.\n     * @param {Object} content - Custom content blocks that can be injected.\n     * @param {Object} data - Main data model with tools.\n     *\n     * @memberof Toolbar\n     */\n    function Toolbar(_ref) {\n      var id = _ref.id,\n          config = _ref.config,\n          content = _ref.content,\n          data = _ref.data;\n\n      _classCallCheck(this, Toolbar);\n\n      this.id = id;\n      this.config = config;\n      this.content = content;\n      this.data = data;\n      this._STORAGE_KEY = \"\".concat(this.id, \".\").concat(LOCAL_STORAGE_POSTFIX);\n\n      this._init();\n\n      this._bindEvents();\n    }\n    /** PUBLIC METHODS */\n\n    /** Removes the toolbar and cleans up. */\n\n\n    _createClass(Toolbar, [{\n      key: \"destroy\",\n      value: function destroy() {\n        // Remove this instance from the list of toolbar instances\n        var toolbarInstanceIndex = toolbarsList.indexOf(this);\n\n        if (toolbarInstanceIndex > -1) {\n          toolbarsList.splice(toolbarInstanceIndex, 1); // TODO: + Unbind all events\n        } // Remove element from DOM\n\n\n        this.toolbarElement.remove();\n      }\n    }, {\n      key: \"getId\",\n      value: function getId() {\n        return this.id;\n      }\n    }, {\n      key: \"show\",\n      value: function show() {\n        micromodal__WEBPACK_IMPORTED_MODULE_0__[\"default\"].show(this.id, this._MODAL_CONFIG);\n        this.render();\n      } // eslint-disable-next-line class-methods-use-this\n\n    }, {\n      key: \"close\",\n      value: function close() {\n        micromodal__WEBPACK_IMPORTED_MODULE_0__[\"default\"].close();\n      }\n      /** PRIVATE FUNCTIONS */\n\n    }, {\n      key: \"_init\",\n      value: function _init() {\n        toolbarsList.push(this);\n        this.toolbarElement = $(buildDialogTemplate(this.id, this.config, this.content)); // Add the element into the Toolbar container\n\n        containerElement.append(this.toolbarElement);\n        this.toolbarContentElement = this.toolbarElement.find(SELECTOR_TOOLBAR_CONTENT);\n\n        this._normaliseToolData(); // Rebuild list of favourites from local storage, if available and\n        // enabled in config\n\n\n        if (this.config.showFavourites) {\n          // Staff Toolbar is defined in Squiz as id=toolbar, only migrate these?\n          if (this.id == \"toolbar\") {\n            migrateFavourites(this.id, this._STORAGE_KEY);\n          }\n\n          var favouritesIdsList = getFavouritesListFromStorage(this._STORAGE_KEY);\n          this.setFavouritesFromIds(favouritesIdsList);\n        }\n\n        this.showNotificationIfExists(); // Create filtering services, if searching is enabled in config\n\n        if (this.config.showSearch) {\n          this.filterators = [Object(_filtering__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"#\".concat(this.id, \" .group-favourite .flex-grid\"), '.tile', [this._titleBasedFilteringRule.bind(this)]), Object(_filtering__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"#\".concat(this.id, \" .group-others .flex-grid\"), '.tile', [this._titleBasedFilteringRule.bind(this)])];\n          document.querySelector(\"#\".concat(this.id, \"-filter-query\")).addEventListener('input', this._searchingHandler.bind(this));\n        }\n\n        this._MODAL_CONFIG = {\n          onShow: this._onShowHandler.bind(this),\n          onClose: this._onCloseHandler.bind(this),\n          disableFocus: true,\n          disableScroll: true // debugMode:   true,\n\n        };\n      }\n    }, {\n      key: \"_onShowHandler\",\n      value: function _onShowHandler() {\n        _urls__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateSearchParam(this.id, true);\n        $(\"#\".concat(this.id, \"-filter-query\")).focus(); // Autofocus to the search\n      }\n    }, {\n      key: \"_onCloseHandler\",\n      value: function _onCloseHandler() {\n        // Remove the query from the URL\n        _urls__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateSearchParam(this.id); // Reset filter\n\n        var filteringInputElement = document.getElementById(\"\".concat(this.id, \"-filter-query\"));\n\n        if (filteringInputElement != null && filteringInputElement.value && filteringInputElement.value !== '') {\n          filteringInputElement.value = null;\n          this.filterators.forEach(function (filterator) {\n            return filterator.filter();\n          });\n        } // IE11 scrolling reversal hack\n\n\n        var bodyElement = document.querySelector('body');\n        bodyElement.style.overflow = 'auto';\n        bodyElement.style.overflow = 'initial';\n        bodyElement.style.height = 'auto';\n        bodyElement.style.height = 'initial';\n      }\n      /** Perform filtering based on the input value. */\n\n    }, {\n      key: \"_searchingHandler\",\n      value: function _searchingHandler(event) {\n        this._searchValue = event.target.value.toLowerCase();\n        this.filterators.forEach(function (filterator) {\n          return filterator.filter();\n        });\n      }\n    }, {\n      key: \"_titleBasedFilteringRule\",\n      value: function _titleBasedFilteringRule(element) {\n        if (!this._searchValue) return true;\n        var itemTitle = element.querySelector('.title').textContent.toLowerCase().trim();\n        return itemTitle.indexOf(this._searchValue) !== -1;\n      }\n    }, {\n      key: \"_bindEvents\",\n      value: function _bindEvents() {\n        var _this = this;\n\n        // Correct search box highlighting\n        var filterQueryElement = $(\"#\".concat(this.id, \"-filter-query\")),\n            filterContainer = this.toolbarElement.find('.filter');\n        filterQueryElement.bind('focus', function () {\n          return filterContainer.addClass('group-focused');\n        });\n        filterQueryElement.bind('focusout', function () {\n          return filterContainer.removeClass('group-focused');\n        });\n\n        if (this.config.showFavourites) {\n          this.toolbarElement.find('.dialog-content').bind('click', function (event) {\n            if (event.target && event.target.classList.length) {\n              if (event.target.classList.contains('toggle-favourite')) {\n                _this._toggleFavouriteTool(event);\n              }\n            }\n          });\n        }\n      }\n    }, {\n      key: \"_toggleFavouriteTool\",\n      value: function _toggleFavouriteTool(event) {\n        var toolId = $(event.target).parents('.tile')[0].id,\n            tool = this._getToolById(toolId);\n\n        if (!tool) return;\n\n        if (tool.isFavourited) {\n          // Unfavourite\n          this.moveFavouritesToDefaults(this.data.favourites.indexOf(tool));\n        } else {\n          // Favourite\n          this.moveDefaultsToFavourites(this.data.defaults.indexOf(tool));\n        } // Save changes & render\n\n\n        saveFavouritesListToStorage(this._STORAGE_KEY, this.data.favourites);\n        this.render();\n      }\n    }, {\n      key: \"_getToolById\",\n      value: function _getToolById(toolId) {\n        for (var i = 0; i < this.data.favourites.length; i += 1) {\n          if (this.data.favourites[i].id === toolId) return this.data.favourites[i];\n        }\n\n        for (var _i = 0; _i < this.data.defaults.length; _i += 1) {\n          if (this.data.defaults[_i].id === toolId) return this.data.defaults[_i];\n        }\n\n        return null;\n      }\n    }, {\n      key: \"_normaliseToolData\",\n      value: function _normaliseToolData() {\n        var getNormaliser = function getNormaliser(isFavourited) {\n          return function normalise(tool) {\n            tool.id = \"\".concat(this.id, \".\").concat(tool.id);\n            tool.isFavourited = isFavourited;\n          };\n        };\n\n        this.data.favourites.forEach(getNormaliser(true).bind(this));\n        this.data.defaults.forEach(getNormaliser(false).bind(this));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        // Remove all the originally added groups\n        this.toolbarElement.find(\"\\n        .\".concat(CLASS_BLOCK_FAVOURITES, \",\\n        .\").concat(CLASS_BLOCK_DEFAULTS)).remove(); // (Re-)render and restablish all functions\n\n        this.renderTools();\n        if (this.filterators) this.filterators.forEach(function (filterator) {\n          return filterator.refresh();\n        });\n      }\n    }, {\n      key: \"renderTools\",\n      value: function renderTools() {\n        var contentBlockTemplates = [buildToolGroupTemplate(CLASS_BLOCK_FAVOURITES, this.data.favourites, this.config.showFavourites, \"<span class=\\\"icon-star\\\"></span>\".concat(TEXTS.TITLE_FAVOURITES)), buildToolGroupTemplate(CLASS_BLOCK_DEFAULTS, this.data.defaults, this.config.showFavourites, this.config.showFavourites ? \"<span class=\\\"icon-layout\\\"></span>\".concat(TEXTS.TITLE_DEFAULTS) : null)];\n        var newContentBlocks = $(contentBlockTemplates.join(''));\n        this.toolbarContentElement.append(newContentBlocks);\n      }\n    }, {\n      key: \"showNotificationIfExists\",\n      value: function showNotificationIfExists() {\n        if (this.content.notification) {\n          this.toolbarContentElement.prepend(buildNotificationTemplate(this.content.notification));\n        }\n      }\n    }, {\n      key: \"moveDefaultsToFavourites\",\n      value: function moveDefaultsToFavourites(toolIndexInDefaults) {\n        this.data.defaults[toolIndexInDefaults].isFavourited = true;\n        this.data.favourites.push(this.data.defaults.splice(toolIndexInDefaults, 1)[0]);\n      }\n    }, {\n      key: \"moveFavouritesToDefaults\",\n      value: function moveFavouritesToDefaults(toolIndexInFavourites) {\n        this.data.favourites[toolIndexInFavourites].isFavourited = false;\n        this.data.defaults.push(this.data.favourites.splice(toolIndexInFavourites, 1)[0]);\n      }\n    }, {\n      key: \"setFavouritesFromIds\",\n      value: function setFavouritesFromIds(favouritesIdsList) {\n        if (!favouritesIdsList) return;\n        var _this$data = this.data,\n            favourites = _this$data.favourites,\n            defaults = _this$data.defaults; // A) Update favourites\n\n        for (var i = 0; i < favourites.length; i += 1) {\n          var currentFavourite = favourites[i];\n\n          if (favouritesIdsList.indexOf(currentFavourite.id) === -1) {\n            // Move to non-favourites\n            this.moveFavouritesToDefaults(i);\n            i -= 1;\n          }\n        } // B) Update non-favourites\n\n\n        for (var _i2 = 0; _i2 < defaults.length; _i2 += 1) {\n          var currentDefault = defaults[_i2];\n\n          if (favouritesIdsList.indexOf(currentDefault.id) > -1) {\n            this.moveDefaultsToFavourites(_i2);\n            _i2 -= 1;\n          }\n        }\n      }\n    }]);\n\n    return Toolbar;\n  }();\n  /** PUBLIC MODULE METHODS. */\n\n  /**\n   * Creates, initialises and returns {Toolbar} instance based on given data and\n   * configuration model `modelObject`.\n   *\n   * @param {Object} modelObject -\n   *    Model including data, content and configuration options for the Toolbar.\n   *\n   * @return {Toolbar}\n   */\n\n\n  function initToolbar(modelObject) {\n    if (!modelObject) {\n      console.error('To initialise a new Toolbar dialog, you need to provide valid model Object.', modelObject);\n      return undefined;\n    } // If a toolbar with this particular ID is already initialised -> return it\n    // instead of making new one.\n\n\n    if (Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"hasProp\"])(modelObject, 'id') && getInitialisedToolbar(modelObject.id)) {\n      return getInitialisedToolbar(modelObject.id);\n    }\n\n    return new Toolbar(modelObject);\n  }\n  /**\n   * Retrieves all existing initialised Toolbar dialogs.\n   *\n   * @return {Array<Toolbar>}\n   */\n\n\n  function getAllToolbars() {\n    return toolbarsList;\n  }\n  /**\n   * Removes all the Toolbar dialogs safely to prevent memory leaks.\n   *\n   * @returns {boolean}\n   */\n\n\n  function destroyAllToolbars() {\n    while (toolbarsList.length) {\n      toolbarsList[0].destroy();\n    }\n\n    return true;\n  }\n  /** MODULE INITIALISATIONS. */\n\n  /**\n   * Check for external dependencies and report/auto-import if any are missing.\n   */\n\n\n  function areDependenciesAvailable() {\n    return Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"hasProp\"])(window, 'jQuery');\n  }\n  /** @constructor */\n\n\n  function constructor() {\n    containerElement = $(TEMPLATE_TOOLBARS_CONTAINER);\n    $('body').prepend(containerElement);\n    $('body').prepend($(SVG_ICONS));\n  }\n  /** Initialisations after the DOM becomes ready. */\n\n\n  function initOnDomReady() {}\n\n  (function init() {\n    if (!areDependenciesAvailable()) {\n      console.error('`jQuery` is not available in the global scope (window.jQuery). The Toolbar dialogs cannot be initialised.');\n      return;\n    } // Populate public API interface\n\n\n    toolbarApi.initToolbar = initToolbar;\n    toolbarApi.getAllToolbars = getAllToolbars;\n    toolbarApi.destroyAllToolbars = destroyAllToolbars;\n    constructor();\n    initOnDomReady();\n  })();\n})(); // Make API available for Modular JS codebases\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (toolbarApi);\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/modules/toolbar.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/modules/urls.js":
/*!****************************************************!*\
  !*** ./src/assets/toolkit/scripts/modules/urls.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// Import 3rd party dependencies\nvar Url = __webpack_require__(/*! ../vendors/url */ \"./src/assets/toolkit/scripts/vendors/url.js\");\n/**\n * An extension of the lightweight `Url.js` library\n * (https://github.com/jillix/url.js/).\n */\n\n\nvar extendedUrlManager = function ExtendUrlManager() {\n  if (window.toolkitUrlManager) {\n    // Available already - do not initialise again!\n    return window.toolkitUrlManager;\n  }\n  /** PUBLIC METHODS */\n\n\n  function onLoadWhenQueryExists(queryName, handlerFunction) {\n    if (Url.queryString(queryName)) {\n      if (window.onDocumentReadyFunctions) {\n        window.onDocumentReadyFunctions.push(handlerFunction);\n      } else {\n        console.warn('`onDocumentReadyFunctions` Array is not available on the global scope - Cannot run the handler function for existing query `%s`.', queryName, handlerFunction);\n      }\n    }\n  } // A) Extend the API of the Url.js\n\n\n  Url.onLoadWhenQueryExists = onLoadWhenQueryExists; // B) Add the extended class to global scope\n\n  window.toolkitUrlManager = Url; // C) Return the extended class.\n\n  return Url;\n}(); // Make the Factory available for Modular JS codebases\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (extendedUrlManager);\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/modules/urls.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/utils/helpers.js":
/*!*****************************************************!*\
  !*** ./src/assets/toolkit/scripts/utils/helpers.js ***!
  \*****************************************************/
/*! exports provided: checkHttpStatus, isElementHidden, hasProp, removeAttribute, isAppleMobileDevice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkHttpStatus\", function() { return checkHttpStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isElementHidden\", function() { return isElementHidden; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasProp\", function() { return hasProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeAttribute\", function() { return removeAttribute; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAppleMobileDevice\", function() { return isAppleMobileDevice; });\n/**\n * Utility library with helper functions.\n *\n * It **SHOULD NOT** be used as a standalone library, but only\n * imported as a dependency.\n *\n * Add **ONLY** function that are generic enough to be reused\n * by almost any module.\n */\n\n/**\n * Checks HTTP response status and if permitted (200-299), passes the response.\n * Otherwise, an exception is thrown.\n *\n * @param {Response} response\n * @throws {Error}\n */\nfunction checkHttpStatus(response) {\n  if (response.status >= 300 || response.status < 200) {\n    var error = new Error(\"Incorrect response HTTP status #\".concat(response.status, \" (\").concat(response.statusText, \") received.\"));\n    error.response = response;\n    throw error;\n  }\n\n  return response;\n}\n/**\n * Checks whether an element is `display: none;` or not.\n *\n * @param {Element} element - DOM Element.\n *\n * @return {boolean}\n */\n\nfunction isElementHidden(element) {\n  return element.offsetParent === null; // *ONLY* happens when the element is not fixed\n}\n/**\n * Tests whether a property/attribute exists on a given {Object}. This is a\n * safe implementation of `Object.hasOwnProperty()`\n *\n * @param {Object} obj - Object to test the existence of the attribute on.\n * @param {String} propName - Name of the attribute to test.\n */\n\nfunction hasProp(obj, propName) {\n  return Object.prototype.hasOwnProperty.call(obj, propName);\n}\n/**\n * Remove attribute from a DOM Element in a browser-compatible manner.\n *\n * @param {Element} domElement\n * @param {string} attributeName\n */\n\nfunction removeAttribute(domElement, attributeName) {\n  domElement.setAttribute(attributeName, false); // Hack for IE11 / MS Edge\n\n  domElement.removeAttribute(attributeName); // All other normal browsers\n}\n/**\n * Detects if the device is likely to be from Apple.\n * Should only be used for fixing or hacking critical issues.\n *\n * @param {String} customUserAgent -\n *  Allows to specify the HTTP Header's `User-Agent` string.\n *\n * @return {boolean}\n */\n\nfunction isAppleMobileDevice(customUserAgent) {\n  var userAgent = customUserAgent || (typeof window.navigator !== 'undefined' ? window.navigator.userAgent : '');\n  return /iPhone|iPod|iPad/i.test(userAgent) && !/Windows Phone/i.test(userAgent);\n}\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/utils/helpers.js?");

/***/ }),

/***/ "./src/assets/toolkit/scripts/vendors/url.js":
/*!***************************************************!*\
  !*** ./src/assets/toolkit/scripts/vendors/url.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var require;var require;\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nvar _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n  return _typeof2(obj);\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : _typeof2(obj);\n};\n\n(function (f) {\n  if (( false ? undefined : _typeof(exports)) === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var g; }\n})(function () {\n  var define, module, exports;\n  return function e(t, n, r) {\n    function s(o, u) {\n      if (!n[o]) {\n        if (!t[o]) {\n          var a = typeof require == \"function\" && require;\n          if (!u && a) return require(o, !0);\n          if (i) return i(o, !0);\n          var f = new Error(\"Cannot find module '\" + o + \"'\");\n          throw f.code = \"MODULE_NOT_FOUND\", f;\n        }\n\n        var l = n[o] = {\n          exports: {}\n        };\n        t[o][0].call(l.exports, function (e) {\n          var n = t[o][1][e];\n          return s(n ? n : e);\n        }, l, l.exports, e, t, n, r);\n      }\n\n      return n[o].exports;\n    }\n\n    var i = typeof require == \"function\" && require;\n\n    for (var o = 0; o < r.length; o++) {\n      s(r[o]);\n    }\n\n    return s;\n  }({\n    1: [function (require, module, exports) {\n      window.addEventListener(\"popstate\", function (e) {\n        Url.triggerPopStateCb(e);\n      });\n      var Url = module.exports = {\n        _onPopStateCbs: [],\n        _isHash: false,\n        queryString: function queryString(name, notDecoded) {\n          name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n          var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n              results = regex.exec(location.search),\n              encoded = null;\n\n          if (results === null) {\n            regex = new RegExp(\"[\\\\?&]\" + name + \"(\\\\&([^&#]*)|$)\");\n\n            if (regex.test(location.search)) {\n              return true;\n            }\n\n            return undefined;\n          } else {\n            encoded = results[1].replace(/\\+/g, \" \");\n\n            if (notDecoded) {\n              return encoded;\n            }\n\n            return decodeURIComponent(encoded);\n          }\n        },\n        parseQuery: function parseQuery(search) {\n          var query = {};\n\n          if (typeof search !== \"string\") {\n            search = window.location.search;\n          }\n\n          search = search.replace(/^\\?/g, \"\");\n\n          if (!search) {\n            return {};\n          }\n\n          var a = search.split(\"&\"),\n              i = 0,\n              iequ,\n              value = null;\n\n          for (; i < a.length; ++i) {\n            iequ = a[i].indexOf(\"=\");\n\n            if (iequ < 0) {\n              iequ = a[i].length;\n              value = true;\n            } else {\n              value = decodeURIComponent(a[i].slice(iequ + 1));\n            }\n\n            query[decodeURIComponent(a[i].slice(0, iequ))] = value;\n          }\n\n          return query;\n        },\n        stringify: function stringify(queryObj) {\n          if (!queryObj || queryObj.constructor !== Object) {\n            throw new Error(\"Query object should be an object.\");\n          }\n\n          var stringified = \"\";\n          Object.keys(queryObj).forEach(function (c) {\n            var value = queryObj[c];\n            stringified += c;\n\n            if (value !== true) {\n              stringified += \"=\" + encodeURIComponent(queryObj[c]);\n            }\n\n            stringified += \"&\";\n          });\n          stringified = stringified.replace(/\\&$/g, \"\");\n          return stringified;\n        },\n        updateSearchParam: function updateSearchParam(param, value, push, triggerPopState) {\n          var searchParsed = this.parseQuery();\n\n          if (value === undefined) {\n            delete searchParsed[param];\n          } else {\n            if (searchParsed[param] === value) {\n              return Url;\n            }\n\n            searchParsed[param] = value;\n          }\n\n          var newSearch = \"?\" + this.stringify(searchParsed);\n\n          this._updateAll(window.location.pathname + newSearch + location.hash, push, triggerPopState);\n\n          return Url;\n        },\n        getLocation: function getLocation() {\n          return window.location.pathname + window.location.search + window.location.hash;\n        },\n        hash: function hash(newHash, triggerPopState) {\n          if (newHash === undefined) {\n            return location.hash.substring(1);\n          }\n\n          if (!triggerPopState) {\n            setTimeout(function () {\n              Url._isHash = false;\n            }, 0);\n            Url._isHash = true;\n          }\n\n          return location.hash = newHash;\n        },\n        _updateAll: function _updateAll(s, push, triggerPopState) {\n          window.history[push ? \"pushState\" : \"replaceState\"](null, \"\", s);\n\n          if (triggerPopState) {\n            Url.triggerPopStateCb({});\n          }\n\n          return s;\n        },\n        pathname: function pathname(_pathname, push, triggerPopState) {\n          if (_pathname === undefined) {\n            return location.pathname;\n          }\n\n          return this._updateAll(_pathname + window.location.search + window.location.hash, push, triggerPopState);\n        },\n        triggerPopStateCb: function triggerPopStateCb(e) {\n          if (this._isHash) {\n            return;\n          }\n\n          this._onPopStateCbs.forEach(function (c) {\n            c(e);\n          });\n        },\n        onPopState: function onPopState(cb) {\n          this._onPopStateCbs.push(cb);\n        },\n        removeHash: function removeHash() {\n          this._updateAll(window.location.pathname + window.location.search, false, false);\n        },\n        removeQuery: function removeQuery() {\n          this._updateAll(window.location.pathname + window.location.hash, false, false);\n        },\n        version: \"2.3.1\"\n      };\n    }, {}]\n  }, {}, [1])(1);\n});\n\n//# sourceURL=webpack:///./src/assets/toolkit/scripts/vendors/url.js?");

/***/ })

/******/ });